<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q251166: NetBIOS Connections Using IP Address Fail After Applying SP5 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q251166: NetBIOS Connections Using IP Address Fail After Applying SP5" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/251/Q251166/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/251/Q251166/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q251166: NetBIOS Connections Using IP Address Fail After Applying SP5","url":"http://jeffpar.github.io/kbarchive/kb/251/Q251166/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q251166-netbios-connections-using-ip-address-fail-after-applying-sp5">Q251166: NetBIOS Connections Using IP Address Fail After Applying SP5</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q251166
Product(s): Microsoft Windows NT
Version(s): winnt:4.0
Operating System(s): 
Keyword(s): kbnetwork kbWinNT4sp6fix
Last Modified: 08-MAY-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation version 4.0 
- Microsoft Windows NT Server version 4.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

After you apply Windows NT 4.0 Service Pack 5, you may no longer be able to
establish NetBIOS connections using an IP address, such as in the following
examples:

  NET VIEW \\192.168.0.1
  NET USE * \\192.168.0.1\SHARENAME

CAUSE
=====

This issue can occur because Windows NT 4.0 Service Pack 5 does not establish
NetBIOS connections like earlier versions of Windows NT.

RESOLUTION
==========

Microsoft has confirmed this to be a problem in Windows NT version 4.0. This
problem has been corrected in the latest U.S. service pack for Windows NT
version 4.0. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):

  S E R V P A C K

STATUS
======

This problem was first corrected in Windows NT 4.0 Service Pack 6.

MORE INFORMATION
================

Before you install Windows NT 4.0 Service Pack 5, Windows NT follows these steps
to establish a NetBIOS connection for an IP address:

1. Establish a TCP session on port 139 (the NetBIOS session port).

2. Attempt to set up a NetBIOS session using the special "*SMBSERVER" name. If
  this succeeds, Windows NT proceeds with the NetBIOS session as normal.

3. If step 2 does not work, a NetBIOS Adapter Status Query is issued to the IP
  address that was specified. This query occurs on UDP port 137 (the NetBIOS
  name resolution port). The Adapter Status Query returns a list of all NetBIOS
  names registered by the target system. This list is parsed for the NetBIOS
  name registered by the Server Service (&lt;computername&gt;[0x20]).

4. If step 3 is successful, the TCP session to port 139 is established, and the
  NetBIOS session is set up using the NetBIOS name found in step 3.

After you apply Windows NT 4.0 Service Pack 5, Windows NT does not perform the
first two steps to esablish a NetBIOS connection. However, if step 3 is
successful, the connection is established and NetBIOS functions properly.

For security reasons, Network Administrators may want to disable UDP port 137. If
this is done, NetBIOS commands that specify an IP address and are initiated from
a computer running Windows NT 4.0 Service Pack 5 may not work even though other
operating systems or service pack versions may be able to complete the command
successfully. For additional information, please see the following article(s) in
the Microsoft Knowledge Base:

  Q161431 Connecting to NetBIOS Resources Using DNS Names or IP Addresses

Additional query words: SMB

======================================================================
Keywords          : kbnetwork kbWinNT4sp6fix 
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNTW400 kbWinNTW400search kbWinNT400search kbWinNTSsearch kbWinNTS400search kbWinNTS400
Version           : winnt:4.0
Hardware          : ALPHA x86
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>