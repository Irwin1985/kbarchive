<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q65302: Warning C4056: &quot;Overflow in Constant Arithmetic&quot; May Be Wrong | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q65302: Warning C4056: &quot;Overflow in Constant Arithmetic&quot; May Be Wrong" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/065/Q65302/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/065/Q65302/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q65302: Warning C4056: &quot;Overflow in Constant Arithmetic&quot; May Be Wrong","url":"http://jeffpar.github.io/kbarchive/kb/065/Q65302/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q65302-warning-c4056-overflow-in-constant-arithmetic-may-be-wrong">Q65302: Warning C4056: "Overflow in Constant Arithmetic" May Be Wrong</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q65302
Product(s): See article
Version(s): 6.00 6.00a | 6.00 6.00a
Operating System(s): MS-DOS | OS/2
Keyword(s): ENDUSER | buglist6.00 buglist6.00a | mspl13_c
Last Modified: 27-NOV-1990

The compiler warning "C4056: Overflow in constant arithmetic" may be
erroneously generated by the compiler. The incorrect warning message
usually appears when accessing data in arrays. If the quick compile
(/qc) option is specified, the error message is not generated.

The C4056 warning is generated on warning level 2 (/W2) or higher.

Sample Code
-----------

// This code fragment will generate the C4056 error on the
// the two lines that reference rate_file.factor14[8][ctr]

#include &lt;string.h&gt;

struct PC_RATE_FILE
{
  char  kind[3];
  char  state[3];
  char  rate_date[7];
  long  base[20];
  long  factor01[40][20];
  long  factor02[40][20];
  long  factor03[40][20];
  long  factor04[40][20];
  long  factor07[40][20];
  long  factor08[40][20];
  long  factor09[40][20];
  long  factor10[40][20];
  long  factor11[40][20];
  long  factor12[40][20];
  char  factor14[40][20][8];
  long  factor15[40][20];
  char  valid_year[15][3];
  char  valid_terr[40][3];
  char  valid_class[40][3];
} rate_file;

int testit()
{
  long ctr;
  char test_string[80],*ptr;
  long test_rel;

  for (ctr=0;ctr&lt;6;ctr++)
  {
    ptr = (char *)rate_file.factor14[8][ctr];
    strcpy (test_string,rate_file.factor14[8][ctr]);
    test_rel = rate_file.factor15[7][ctr];
  }

  return(1);
}

Microsoft has confirmed this to be a problem with C versions 6.00 and
6.00a. We are researching this problem and will post new information
here as it becomes available.
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>