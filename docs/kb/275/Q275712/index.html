<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q275712: BUG: Custom Build Step Is Not Applied to New Configuration | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q275712: BUG: Custom Build Step Is Not Applied to New Configuration" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/275/Q275712/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/275/Q275712/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q275712: BUG: Custom Build Step Is Not Applied to New Configuration","url":"http://jeffpar.github.io/kbarchive/kb/275/Q275712/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q275712-bug-custom-build-step-is-not-applied-to-new-configuration">Q275712: BUG: Custom Build Step Is Not Applied to New Configuration</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q275712
Product(s): Microsoft C Compiler
Version(s): 6.0
Operating System(s): 
Keyword(s): kbide kbVC600 kbVC600bug kbDevStudio kbDSupport kbGrpDSTools
Last Modified: 07-MAY-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Visual C++, 32-bit Enterprise Edition, version 6.0 
- Microsoft Visual C++, 32-bit Professional Edition, version 6.0 
- Microsoft Visual C++, 32-bit Learning Edition, version 6.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you add a new configuration to a Visual C++ project, a file that used a
custom build step may not inherit the custom build step in the new
configuration.

RESOLUTION
==========

If you have closed and reopened the workspace, you must manually copy the custom
build step from the old configuration to the new configuration.

If you have not closed and reopened the workspace, perform the following steps:

1. Set the active configuration to the new configuration.

2. Right-click the file that uses the custom build step, and click Settings.

3. Note that the Always use custom build step check box is selected even though
  the custom build step is gone. Clear and reselect this check box. The Custom
  Build tab reappears with all of the correct steps.

STATUS
======

Microsoft has confirmed this to be a bug in the Microsoft products listed at the
beginning of this article.

MORE INFORMATION
================

This problem only occurs when custom build steps are applied to files with a
default tool (.c*, .idl, .odl and .rc files).

NOTE: A project that is generated with the Visual C++ 5.0 Active Template Library
(ATL) Component Object Model (COM) AppWizard uses a file level custom build step
to compile the .idl file.

Steps to Reproduce Behavior
---------------------------

1. Create a Microsoft Foundation Class (MFC) AppWizard Dialog project.

2. On the FileView tab, click to expand the Source Files folder.

3. Right-click the Stdafx.cpp file, and click Settings.

4. In the Project Settings dialog box, click the General tab, and then select
  the Always use custom build step check box.

5. On the Custom Build tab, in the Command list box, enter "Echo sampletext &gt;
  stdafx.txt" as the command. In the Output list box, enter "Stdafx.txt". Note
  the configuration name, and then click OK.

6. On the Build menu, click Configurations, click Add, and give the
  configuration a name.

7. In the Copy settings from drop-down combo box, select the configuration that
  you noted in step 5, and then click Close.

8. On the Build menu, click Set Active Configuration, and then select the new
  configuration.

9. Close and reopen the workspace.

10. Repeat steps 2 and 3.

REFERENCES
==========

For more information, see the following Microsoft Developer Network (MSDN)
site:

  http://msdn.microsoft.com/library/devprods/vs6/visualc/vcug/_asug_home_page.3a_.working_with_projects.htm

Additional query words:

======================================================================
Keywords          : kbide kbVC600 kbVC600bug kbDevStudio kbDSupport kbGrpDSTools 
Technology        : kbVCsearch kbAudDeveloper kbVC600 kbVC32bitSearch
Version           : :6.0
Issue type        : kbbug
Solution Type     : kbpending

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>