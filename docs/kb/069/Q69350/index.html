<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q69350: CHRTDEMO Example Gives C2059 Error with ANSI Compatibility Set | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q69350: CHRTDEMO Example Gives C2059 Error with ANSI Compatibility Set" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/069/Q69350/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/069/Q69350/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q69350: CHRTDEMO Example Gives C2059 Error with ANSI Compatibility Set","url":"http://jeffpar.github.io/kbarchive/kb/069/Q69350/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q69350-chrtdemo-example-gives-c2059-error-with-ansi-compatibility-set">Q69350: CHRTDEMO Example Gives C2059 Error with ANSI Compatibility Set</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q69350
Product(s): See article
Version(s): 6.00 6.00a | 6.00 6.00a
Operating System(s): MS-DOS | OS/2
Keyword(s): ENDUSER | s_quickc chartdemo pgchart | mspl13_c
Last Modified: 25-FEB-1991

If the C version 6.00 sample Presentation Graphics program CHRTDEMO.C
is compiled with the ANSI compatibility switch (/Za), the following
compiler error will be produced:

   chrtdemo.h(140) : error C2059: syntax error : '*'

This is correct behavior due to the use of the Microsoft extension
"far" found on line 140 of CHRTDEMO.H; /Za disables extensions
specific to Microsoft C.

The supplied CHRTDEMO.MAK makefile is set up to use the default
setting of /Ze (Microsoft C extensions enabled). The C2059 error will
only occur if this option is changed to /Za (ANSI compatibility --
Microsoft C extensions disabled). This change could be made either
inside the Programmer's WorkBench from the C Compiler Options dialog
box or by actually modifying the makefile to include /Za in the
compiler flags macro.

According to the ANSI specification, all keywords that are extensions
to the language must begin with a leading underscore. Beginning with C
version 6.00, the Microsoft supplied header files contain this change
to all keywords, such as _far, _pascal, etc., but the previous
versions of these keywords without the leading underscores are
retained for backwards compatibility.

Most of the sample programs were modified to include the new keywords,
but the line in CHRTDEMO.H was not changed to include _far, instead of
far, thus resulting in the C2059 error with /Za. If you modify the far
keyword on line 140 of CHRTDEMO.H so that it includes a leading
underscore, this will eliminate the C2059 error even when /Za is
specified.

The QuickC compiler shares the same ANSI compatibility mode as the
optimizing compiler, as well as a similar chart example program. Thus,
the same C2059 error may be encountered with /Za in QuickC versions
2.00, 2.01, 2.50, and 2.51.
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>