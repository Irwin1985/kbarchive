<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q253309: XADM: Directory Service Stops with Internal Error -1811 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q253309: XADM: Directory Service Stops with Internal Error -1811" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/253/Q253309/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/253/Q253309/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q253309: XADM: Directory Service Stops with Internal Error -1811","url":"http://jeffpar.github.io/kbarchive/kb/253/Q253309/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q253309-xadm-directory-service-stops-with-internal-error--1811">Q253309: XADM: Directory Service Stops with Internal Error -1811</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q253309
Product(s): Microsoft Exchange
Version(s): winnt:5.0
Operating System(s): 
Keyword(s): 
Last Modified: 06-FEB-2000

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Exchange Server, version 5.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you cannot restart the directory service on Microsoft Exchange Server 5.0
after it stops for no apparent reason, you may receive an error message citing
internal error -1811, with ID: 203017d.

The application log of Event Viewer may display the following events:

  Event ID: 1166
  Source: MSExchangeDS
  Type: Information
  Category: Internal Processing
  Error -1811 has occurred. JET_errFileNotFound. Internal ID 203017d. Contact
  Microsoft Technical Support for assistance.

  Event ID: 1002
  Source: MSExchangeDS
  Type: Error
  Category: Internal Processing
  Description: The Microsoft Exchange Server database, EDB, could not be
  initialized and returned error -1811. Unrecoverable error. The directory
  can't continue.

CAUSE
=====

This behavior can occur when the directory service cannot find the directory
databases it requires to start, or when the directory (Dir.edb) is damaged.

RESOLUTION
==========

To resolve this behavior, change the paths for the directory logs and databases
if the paths are incorrect. If this does not resolve the behavior, restore the
directory from tape backup.

1. On the server properties page dialog box, click the Database Paths tab and
  verify that the paths for directory logs and databases are correct.

2. If the paths for logs and databases are incorrect, run Performance Optimizer
  (Perfwiz.exe) to change to the recommended paths:

  a. To start Performance Optimizer, click Start on the taskbar, point to
     Programs, point to Microsoft Exchange, and then click Microsoft Exchange
     Optimizer.

  b. The initial page of Performance Optimizer indicates that it stops all
     Exchange Server services. To accept, click Next. If you do not want
     Performance Optimizer to stop the Exchange Server services, click Cancel
     to quit Performance Optimizer.

  c. Follow the directions provided by Performance Optimizer until you reach
     the page that lists the data placement options. Accept the suggested
     changes by clicking Next, or manually enter the paths and then click Next.

  d. Confirm that the Move Files Automatically check box is selected by
     default, and then click Next. If you do not want Performance Optimizer to
     move your files at this time, click to clear the check box, and then click
     Next.

  e. Continue to click Next until you complete the program, and then click
     Finish to restart all Exchange Server services. If you select the Do not
     restart these services check box, Performance Optimizer will not restart
     any Exchange Server services.

3. If the directory service does not start, restore the directory from a tape
  backup. If you do not have a valid backup or a copy of the original Dir.edb
  file, you must perform full disaster recovery by removing and reinstalling
  Microsoft Exchange Server.

MORE INFORMATION
================

For additional information on Performance Optimizer, please see the Microsoft
Knowledge Base white paper titled "Understanding the Microsoft Exchange Server
Performance Optimizer." You can find this paper at the following Microsoft Web
site:

  http://support.microsoft.com/support/Exchange/Content/Whitepapers/PerfOpt.asp?

For additional information on restoring a damaged directory, click the article
number below to view the article in the Microsoft Knowledge Base:

  Q184186 XADM: Recovering Exchange from a Corrupted Directory

  Q177635 XADM: How to Set Up a Disaster Recovery Server for Dir.edb

  Q183266 XADM: How to Restore an Offline Backup of the Directory Service and
  Information Store

Additional query words:

======================================================================
Keywords          :  
Technology        : kbExchangeSearch kbExchange500 kbZNotKeyword2
Version           : winnt:5.0
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>