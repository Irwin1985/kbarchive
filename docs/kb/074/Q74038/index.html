<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q74038: DOSKEY Macro to Search for File Text | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q74038: DOSKEY Macro to Search for File Text" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/074/Q74038/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/074/Q74038/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q74038: DOSKEY Macro to Search for File Text","url":"http://jeffpar.github.io/kbarchive/kb/074/Q74038/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q74038-doskey-macro-to-search-for-file-text">Q74038: DOSKEY Macro to Search for File Text</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q74038
Product(s): Microsoft Disk Operating System
Version(s): MS-DOS:5.0
Operating System(s): 
Keyword(s): 
Last Modified: 22-NOV-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft MS-DOS operating system version 5.0 
-------------------------------------------------------------------------------

SUMMARY
=======

The following DOSKEY macro searches all files in the current directory for the
message text specified and displays the output a screen at a time. Any type of
file will be searched, regardless of the file's extension. When the macro is
executed, the name of each file being searched will be displayed along with the
macro command. The macro output will be displayed one screen at a time, which
you can examine to locate the message text you are searching for. Finally, the
file "output" is deleted so that when using the macro again, the file output
only represents one message search.

To create this macro, enter the following at the command prompt:

  " doskey search=for %a in (*.*) do c:\dos\FIND /i "$*" %a
  $g$g output $t type output $b c:\dos\MORE $t del output " (without the
  quotation marks)

(Do not press ENTER until you have entered the whole macro.)

To run this macro, type:

  " SEARCH message " (without the quotation marks)

The message does not require quotation marks and is not case sensitive. The
output of the search is displayed one screen at a time. If the text is found, a
line with the text will appear below the file. Make sure the FIND and MORE
commands in the above search macro are referencing the MS-DOS 5.0 directory.
Also, by using the FIND /i switch, the message search will not be case
sensitive.

MORE INFORMATION
================

For example, the following macro searches for the text "No available extended
memory" in the current directory and displays the partial result of the
command.

First, change to the DOS directory that includes HIMEM.SYS, then enter the
following command:

  " SEARCH no available extended memory " (without the quotation marks)

The following output appears:

  ---------- HIMEM.SYS
  ERROR: No available extended memory was found.

The file the text was found in was HIMEM.SYS. The line that includes the message
starts with "ERROR:..."

A search with the abbreviated "message" field, such as "extended memory," will
result in the same output as above. To make the message search case sensitive,
remove the FIND /i switch.

To use this macro every time you start your system, include the following command
in your AUTOEXEC.BAT file:

     doskey search=for %%a in (*.*) do c:\dos\FIND /i "$*" %%a
     $g$g output $t type output $b c:\dos\MORE $t del output

Notice that this batch file command is different from the previous command that
is inserted at the command prompt. The difference is that an additional %
(percent sign) is included before each "%a" so that the "%a" will be
recognized.

Reference(s):

"Microsoft MS-DOS User's Guide and Reference," version 5.0, pages 175-181,
448-453

Additional query words: 5.00 noupd

======================================================================
Keywords          :  
Technology        : kbMSDOSSearch kbMSDOS500
Version           : MS-DOS:5.0

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>