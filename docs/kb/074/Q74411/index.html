<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q74411: PRB: RC Error RW1031: Segment Too Large for Load Optimization | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q74411: PRB: RC Error RW1031: Segment Too Large for Load Optimization" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/074/Q74411/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/074/Q74411/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q74411: PRB: RC Error RW1031: Segment Too Large for Load Optimization","url":"http://jeffpar.github.io/kbarchive/kb/074/Q74411/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q74411-prb-rc-error-rw1031-segment-too-large-for-load-optimization">Q74411: PRB: RC Error RW1031: Segment Too Large for Load Optimization</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q74411
Product(s): Microsoft Windows Software Development Kit
Version(s): WINDOWS:3.0,3.1
Operating System(s): 
Keyword(s): kb16bitonly
Last Modified: 05-NOV-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows Software Development Kit (SDK) versions 3.0, 3.1 
-------------------------------------------------------------------------------

SYMPTOMS
========

When building an application, the Microsoft Windows Resource Compiler, RC.EXE,
reports the error message "Error RW1031: Segment Too Large For Load
Optimization."

CAUSE
=====

The size of an application segment added to the size of the relocation
information for the segment is larger than 64K.

RESOLUTION
==========

Perform one of the following:

- For optimal performance in the Microsoft Windows graphical environment,
  divide the application's code into units of approximately 4K to 8K each.

- Specify the Resource Compiler -k command-line option switch to disable the
  load optimization feature.

MORE INFORMATION
================

One underlying cause for this Resource Compiler error is an application
developed for the medium or large memory model linked with the /PACKCODE
Microsoft Linker option switch. This option directs the linker to combine code
segments to produce fewer and larger code segments.

When the Resource Compiler processes an application for load optimization (its
default behavior), it places all application segments marked PRELOAD into the
application's fastload area. The fastload area is designed to allow the Windows
kernel to copy the initial segments of an application directly from the file on
disk into memory to minimize the amount of time the user must wait before
interacting with the application. The kernel performs minimal processing on the
contents of the fastload area to maximize its performance benefits; this
strategy is incompatible with a large segment with much relocation information.

By breaking an application into small units, Windows can manage memory by
discarding and reloading segments as necessary. Windows supports techniques
provided by the Microsoft C compiler to name and manually combine segments and
to specify segment attributes through the application's module definition (DEF)
file. In enhanced mode Windows, it should not be necessary to discard segments;
memory is automatically paged to disk and reloaded as required.

Additional query words: 3.00 3.10 PACKC

======================================================================
Keywords          : kb16bitonly 
Technology        : kbAudDeveloper kbWin3xSearch kbSDKSearch kbWinSDKSearch kbWinSDK300 kbWinSDK310
Version           : WINDOWS:3.0,3.1

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>