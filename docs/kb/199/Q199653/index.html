<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q199653: SMS: What Is CHECK20? | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q199653: SMS: What Is CHECK20?" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/199/Q199653/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/199/Q199653/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q199653: SMS: What Is CHECK20?","url":"http://jeffpar.github.io/kbarchive/kb/199/Q199653/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q199653-sms-what-is-check20">Q199653: SMS: What Is CHECK20?</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q199653
Product(s): Microsoft Systems Management Server
Version(s): winnt:1.2,2.0
Operating System(s): 
Keyword(s): kbsms200kbfaq
Last Modified: 12-MAY-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Systems Management Server versions 1.2, 2.0 
-------------------------------------------------------------------------------

SUMMARY
=======

Check20.exe is an executable file that is included in Systems Management Server
1.2 Service Pack 4 to allow interoperability between version 1.2 and 2.0 clients
in a multi-site environment. Check20.exe is referenced in the Runsms.bat and
Smsls.bat files.

One reason for this change to the Systems Management Server logon scripts was to
prevent the 1.2 client code from overwriting client files installed by a 2.0
site.

MORE INFORMATION
================

The purpose of Check20.exe is to determine what type of discovery and/or
installation has taken place on the client. When run, Check20.exe will return an
ErrorLevel that determines what action to take on the client.

Check20.exe reads the "Number of Opal Installations" value from the SMS MultiBoot
Configuration section of the %Windir%\Smscfg.ini file to determine what
ErrorLevel to return, according to the following rules:

- If "Number of Opal Installations" is greater than 0, Check20.exe returns
  MS-DOS ErrorLevel 0.

- If "Number of Opal Installations" is 0, Check20.exe returns MS-DOS ErrorLevel
  2.

- If "Number of Opal Installations" value does not exist, or if Smscfg.ini does
  not exist, Check20.exe returns MS-DOS ErrorLevel 1.

The following table describes the ErrorLevels:

ErrorLevel     Description
--------------------------------------------------------------------------

ErrorLevel 0   Systems Management Server 2.0 has determined this 
              computer is assigned to one or more Systems Management
              Server 2.0 sites.

ErrorLevel 1   Systems Management Server 2.0 has not yet reached this
              resource with an installation method to determine if this
              computer should be assigned to one or more Systems
              Management Server 2.0 sites.

ErrorLevel 2   Systems Management Server 2.0 has evaluated this computer
              one or more times and determined that it is NOT assigned to 
              any Systems Management Server 2.0 site participating in that 
              particular installation method (at the time of 
              determination).

ErrorLevel 3   Unknown Error

The Systems Management Server 1.2 "Opal Interop" script (which assumes that the
2.0 script is also running during this logon) will skip processing the 1.2
script if Check20.exe returns an ErrorLevel of 0 or 1, giving the 2.0 script a
chance to set the value to 0 or 2.

The 1.2 "Opal Aware" script (which assumes that the 2.0 script is not running
during the logon attempt, although 2.0 clients may be encountered in the
enterprise) will skip processing the 1.2 script only if Check20.exe returns a 0
or a 1.

Additional query words: prodsms error level levels

======================================================================
Keywords          : kbsms200 kbfaq
Technology        : kbSMSSearch kbSMS120 kbSMS200
Version           : winnt:1.2,2.0
Issue type        : kbinfo

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>