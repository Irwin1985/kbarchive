<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q120193: PRB: U1150 Error From the LIB Utility | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q120193: PRB: U1150 Error From the LIB Utility" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/120/Q120193/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/120/Q120193/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q120193: PRB: U1150 Error From the LIB Utility","url":"http://jeffpar.github.io/kbarchive/kb/120/Q120193/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q120193-prb-u1150-error-from-the-lib-utility">Q120193: PRB: U1150 Error From the LIB Utility</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q120193
Product(s): Microsoft Programming Utilities
Version(s): 1.0,1.5
Operating System(s): 
Keyword(s): kb16bitonly kbprb
Last Modified: 05-MAY-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- The Microsoft Library Manager (LIB.EXE), used with:
   - Microsoft Visual C++, versions 1.0, 1.5 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you build a Static Library (.LIB) from the Visual Workbench, the following
error message may be returned:

  LIB Fatal Error U1150
  page size too small; use option /PAGE:n to increase it

There is no way to modify the "LIB" command line within the Visual Workbench.

RESOLUTION
==========

There is a relatively simple workaround for this problem. All you need to do is
find the inference rule within the makefile generated by Visual Workbench that
causes the LIB utility to be run. There, you can change the command line that is
passed to the LIB utility. To do this, open the makefile in a text editor and
search for the $(PROJ).LIB: inference rule. When that inference rule is
evaluated, it creates a LIB response file called "$(PROJ).CRF", which contains
the command-line switches as well as the responses for the LIB utility's
prompts. The /PAGESIZE option is set to 64, and it can be found somewhere
between the pair of "&lt;&lt;" symbols. All that needs to be done is to change
that default value from 64 to a power of 2 that is greater than 64 and is less
than or equal to 32768 (such as 128, 256, 512, 1024, 2048, 4096, and so forth).

NOTE: /PAGESIZE:64 is the hard-coded default used by the Visual Workbench when
building a static library.

There is one important caveat here, however: When you use the internal build
engine of the Visual Workbench, the inference rule portion of the makefile is
not used. Instead, the Visual Workbench uses the inference rules only when the
file is opened as an external makefile. For this solution to work, the makefile
must be opened as an external makefile in the Visual Workbench or the library
must be built with NMAKE from the command line.

MORE INFORMATION
================

The page size of a library sets the alignment of modules stored in the library.
Modules start at locations that are a multiple of the page size from the
beginning of the file. When the page size is too small, the U1150 error occurs.

REFERENCES
==========

For further information, see the documentation for the LIB utility, located in
the LIB.WRI file in the MSVC\HELP directory.

Additional query words: 1.00 1.50 page size VWB

======================================================================
Keywords          : kb16bitonly kbprb 
Technology        : kbVCsearch kbAudDeveloper kbLibSearch
Version           : :1.0,1.5
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>