<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q96198: TCP/IP PROTOCOL.INI Documentation Updates and Corrections | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q96198: TCP/IP PROTOCOL.INI Documentation Updates and Corrections" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/096/Q96198/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/096/Q96198/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q96198: TCP/IP PROTOCOL.INI Documentation Updates and Corrections","url":"http://jeffpar.github.io/kbarchive/kb/096/Q96198/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q96198-tcpip-protocolini-documentation-updates-and-corrections">Q96198: TCP/IP PROTOCOL.INI Documentation Updates and Corrections</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q96198
Product(s): Microsoft LAN Manager
Version(s): 
Operating System(s): 
Keyword(s): kbnetwork
Last Modified: 30-JUL-2001

SUMMARY
=======

This article contains corrections and additions to the TCP/IP PROTOCOL.INI
configuration parameters. The first section contains corrections to the
published documentation. The second contains several undocumented parameters.

Documentation Corrections and Explanations
------------------------------------------

BCASTADDR: The IP address to which broadcasts are sent. The default for this is a
segment broadcast, which is the workstation's IP address with the node portion
all set to ones. Not supported for OS/2.

TCPKEEPALIVE: The interval between sending TCP keepalive packets on an idle
connection. Keepalives are sent as a connection assurance mechanism.

Default: 600 seconds
Range: 60-32767


TCPCONNTIMEOUT: The timeout period for establishing a new connection.

Default: 30 seconds
Range: 1-32767

SCOPE: The SCOPE parameter is not supported under OS/2.

Undocumented Parameters
-----------------------

TCPRETRIES: Under LAN Manager versions earlier than 2.2, the number of TCPRETRIES
is fixed at 17, and the following timings are used for TCPRETRIES:

     Retry #         Delay      Total Elapsed Time
               --------------------------------------------------
     1st retry:     1 second      1 second
     2nd retry:     2 seconds     3 seconds
     3rd retry:     4 seconds     7 seconds
     4th retry:     6 seconds    13 seconds
     5th retry:     8 seconds    21 seconds
     6th retry:    10 seconds    31 seconds
     7th retry:    15 seconds    46 seconds
     8th retry:    20 seconds    66 seconds
     9th retry:    30 seconds    96 seconds
     10th retry:   40 seconds   136 seconds
     11th retry:   50 seconds   186 seconds
     12th retry:   60 seconds   246 seconds
     13th retry:   80 seconds   326 seconds
     14th retry:  100 seconds   426 seconds
     15th retry:  120 seconds   546 seconds
     16th retry:  150 seconds   696 seconds
     17th retry:  200 seconds   896 seconds

Under 2.2, the TCPRETRIES parameter is exposed. The same timings are used, but by
specifying a value for TCPRETRIES in PROTOCOL.INI you can control the timeout
period. The default has been changed to 8.

Default: 8 (About 1 minute total)
Range: 1-17 (17 would be about 15 minutes)

UDP_Q_PER_USER: The number of UDP buffers to allocate for each UDP port. When a
datagram is received for a given UDP port, it must be queued by UDP. A pool of
buffers is maintained for this purpose. UDP stuffs incoming datagrams into
buffers; upper layers read them from the queue and return buffers to the pool.
When no UDP buffers are available, datagrams are dropped. Extremely busy (high
broadcast) network clients may benefit from raising this value slightly above
the default. If a third-party application is using UDP, the number may also need
to be increased.

  DOS OS/2

  Default: 3 16
  Range: 1-10 1-64

UDP_Q_TOTAL: The total number of UDP buffers available for all ports.

  DOS OS/2

  Default: 20 64
  Range: 1-30 1-256

TCPMAXBDS2USER: (OS/2 only) The maximum number of TCP buffers a client may hold.
Applications using large numbers of small packets may benefit from increasing
this parameter.

Default: 4
Range: 1-30

TCPMAXBDS2HOLD: (OS/2 only) The total number of TCP buffers allocated for all
incoming TCP packets. Applications using large numbers of small packets may
benefit from increasing this parameter.

Default: 10
Range: 1-30


BCASTTIMEOUT: Timeout during netbios name query/registration, specified in
multiples of timer-ticks
(1 timer-tick = 55ms). 2.1a and 2.2 only.

Default: 5 (this is what the RFC specifies)
Range: 4-51

BCASTRETRY: Number of retries during NetBIOS name query/registration. 2.1a and
2.2 only.

Default: 3
Range: Any number greater than 0

The above parameters override the existing documentation as shown. Care should be
taken when spelling parameters, as they will be accepted but won't have any
effect when mis-spelled.

Additional query words: 2.10 2.1 2.10a 2.1a 2.20 2.2 tuning tcpip

======================================================================
Keywords          : kbnetwork 

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>