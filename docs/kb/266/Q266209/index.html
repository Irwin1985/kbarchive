<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q266209: Network Time Protocols and the Timeserv.exe Utility File | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q266209: Network Time Protocols and the Timeserv.exe Utility File" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/266/Q266209/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/266/Q266209/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q266209: Network Time Protocols and the Timeserv.exe Utility File","url":"http://jeffpar.github.io/kbarchive/kb/266/Q266209/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q266209-network-time-protocols-and-the-timeservexe-utility-file">Q266209: Network Time Protocols and the Timeserv.exe Utility File</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q266209
Product(s): Microsoft Windows NT
Version(s): 
Operating System(s): 
Keyword(s): kb3rdparty kbTools
Last Modified: 08-MAY-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- MSPRESS Microsoft Windows NT Server 4.0 Resource Kit ISBN 1-57231-344-7 
-------------------------------------------------------------------------------

SUMMARY
=======

This article provides information about network time protocols and the
Timeserv.exe utility file.

MORE INFORMATION
================

The Microsoft Windows NT Server 4.0 Resource Kit includes the utility
Timeserv.exe file that allows for the synchronization of the Windows NT server
with any of the public time servers. Many different time servers are available
and the port through which that connection is made is based upon which RFCs that
individual time server is compliant with.

NOTE: RFC is an acronym for Request for Comments. It refers to a document in
which a standard, a protocol, or other information pertaining to the operation
of the Internet is published.

If you want to change the port number to which the Timeserv.exe file connects,
use Microsoft NotePad or any other standard text editor to edit the Timeserv.ini
file, located in the same directory as the Timeserv.exe file. You must modify
the line "type=x" (without the quotes) where "x" is either NTP or Internet as
described in this article.

If the Timeserv.exe file is set to Type=NTP, it accesses port 123 of the
specified server, but the outgoing port from Windows NT is dynamic. If the
specified server fails, the Timeserv.exe file might try port 37, but only to
present a detailed error message. If the Timeserv.exe file is set to
Type=Internet, it accesses port 13 of a National Institute of Standards and
Technology (NIST) server located in Boulder, Colorado.

Some of the more widely used RFCs are provided below, along with a brief
description:

Daytime Protocol (RFC 867)
--------------------------

This protocol is widely used by small computers that run MS-DOS and similar
operating systems. The server listens on port 13, and responds to requests in
either Transmission Control Protocol/Internet Protocol (TCP/IP) or User Datagram
Protocol/Internet Protocol (UDP/IP) formats. The standard does not specify an
exact format for the Daytime Protocol, but requires that the time is sent using
standard ASCII characters.

Time Protocol (RFC 868)
-----------------------

This simple protocol returns a 32-bit unformatted binary number that represents
the time in Universal Time Coordinate (UTC) seconds since January 1, 1900. The
server listens for Time Protocol requests on port 37, and responds in either
TCP/IP or UDP/IP formats.

Network Time Protocol (RFC 1305)
--------------------------------

The Network Time Protocol (NTP) is the most complex and sophisticated of the time
protocols, and it is the one that provides the best performance. NTP is
typically used by large computers and workstations, because NTP software is
often bundled with the operating system. The client software runs continuously
as a background task that periodically obtains updates from the server. The
client software can be configured to query several servers, and to average the
results. Since it can query multiple servers, it can ignore responses from
servers that appear to send the wrong time. The NTP servers listen for a NTP
request on port 123, and respond by sending a UDP/IP data packet in the NTP
format.

Simple Network Time Protocol (SNTP) Version 4 (RFC 2030)
--------------------------------------------------------

SNTP can be used when the ultimate performance of the full NTP implementation
described in RFC 1305 is not needed or justified. The only significant protocol
change in SNTP version 4 from previous versions of NTP and SNTP is a modified
header interpretation to accommodate Internet Protocol version 6 (IPv6).

REFERENCES
==========

You can obtain more information about this issue from the following sources:

- The Windows NT 4.0 Resource Kit (the Timeserv.wri document).

- For additional information about using Timeserv, click the article number
  below to view the article in the Microsoft Knowledge Base:

  Q232255 Using Timeserv to Set and Synchronize Time

- The NIST Web site at the following address:

  http://www.bldrdoc.gov/timefreq/service/nts.htm

- The Timeserv Web site of Doug Hogarth (the original author of the
  Timeserv.wri document):

  http://www.niceties.com/TimeServ.html

The third-party contact information included in this article is provided to help
you find the technical support you need. This contact information is subject to
change without notice. Microsoft in no way guarantees the accuracy of this
third-party contact information.

Additional query words: reskit rfc-1305 rfc-868 rfc-867 rfc-2030 timesrv

======================================================================
Keywords          : kb3rdparty kbTools 
Technology        : kbMSPressSearch kbZNotKeyword2 kbZNotKeyword3
Version           : :
Hardware          : ALPHA x86
Issue type        : kbinfo

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>