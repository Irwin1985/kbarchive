<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q79809: Persistent Net Connections with LAN Manager 2.1 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q79809: Persistent Net Connections with LAN Manager 2.1" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/079/Q79809/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/079/Q79809/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q79809: Persistent Net Connections with LAN Manager 2.1","url":"http://jeffpar.github.io/kbarchive/kb/079/Q79809/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q79809-persistent-net-connections-with-lan-manager-21">Q79809: Persistent Net Connections with LAN Manager 2.1</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q79809
Product(s): Microsoft LAN Manager
Version(s): 
Operating System(s): 
Keyword(s): 
Last Modified: 30-JUL-2001

SUMMARY
=======

The following information applies to LAN Manager version 2.1 running under
MS-DOS and OS/2.

One of the features of LAN Manager 2.1 is its ability to automatically save a
user's net connections. When the user logs on again, the connections are
automatically re-established. If the connection requires a password, the user is
prompted.

MORE INFORMATION
================

In LAN Manager versions 2.0c and earlier, users put the net connections that
require passwords in their AUTOEXEC.BAT file, thus eliminating the need to wait
to manually enter the passwords when their system boots up. LAN Manager 2.1
saves these NET USEs in a file called LMUSER.INI, which supersedes any NET USEs
in the AUTOEXEC.BAT file.

The /persistent option of the NET USE command has four parameters:

/persistent:YES

  This enables persistent net connections, setting autorestore=yes and
  saveconnections=yes in LANMAN.INI. Any connections made after issuing this
  command will be saved in LMUSER.INI; any connections deleted will be removed.

/persistent:NO

  This turns off persistent net connections altogether. It sets autorestore=no
  and saveconnections=no in LANMAN.INI. No connections will be saved or
  restored.

/persistent:SAVE

  This first writes any existing connections into the LMUSER.INI file. If the
  user had any connections in the LMUSER.INI file to servers that are currently
  down, they will be dropped. This will set autorestore=yes and
  saveconnections=no in LANMAN.INI.

/persistent:FREEZE

  This option will set autorestore=yes and saveconnections=no in the LANMAN.INI
  file. The difference between this option and the SAVE option is that FREEZE
  won't write any existing connections into LMUSER.INI. Also, if the user had
  connections in the LMUSER.INI file to servers that are currently down, they
  will NOT be dropped.

Disabling Autosave or Customizing Reconnections
-----------------------------------------------

You can either totally disable the autosave feature of LAN Manager 2.1 or
customize the reconnections so you do not have to manually enter any required
passwords.

To disable the persistent connections entirely, use the following command:

     net use /persistent:no

This will set autorestore=no and saveconnections=no in LANMAN.INI.

To turn off persistent net connections from within Windows, do the following:

1. From the Control Panel, select the Network icon.

2. From the Networks window Options menu, choose Restore Connections at Log On.
  This will toggle (remove the check mark from) the Restore Connections option,
  turning off the persistent net connections.

To customize the reconnections to avoid manually entering passwords, do the
following:

1. (Assume that you have no connections.) Add all the connections that can be
  made immediately after logon without being prompted for a password (that is,
  all connections for which your logon password is the correct one).

2. Type "net use /persistent:freeze". This will freeze the LMUSER.INI file with
  the current set of connections so that any subsequent NET USEs do not update
  it.

3. In the AUTOEXEC.BAT file, enter the NET USE commands that require passwords.
  They will not be automatically added to the LMUSER.INI file.

It is important to note that persistent net connections in LAN Manager 2.1 are
workstation-specific. That is, the LMUSER.INI file is workstation-specific, not
user-specific. System administrators can use the persistent net connection
feature to set up any connections that all users logging on to a specific
workstation would need, and then use the NET USE /PERSISTENT:FREEZE command to
freeze the connections. The system administrator can then configure each user's
individual net connections through the use of logon scripts and batch files.

Additional query words: 2.10 2.10a 2.20 connections

======================================================================
Keywords          :  

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>