<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q79857: Communal Data Is Not Included in the LIB Listing | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q79857: Communal Data Is Not Included in the LIB Listing" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/079/Q79857/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/079/Q79857/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q79857: Communal Data Is Not Included in the LIB Listing","url":"http://jeffpar.github.io/kbarchive/kb/079/Q79857/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q79857-communal-data-is-not-included-in-the-lib-listing">Q79857: Communal Data Is Not Included in the LIB Listing</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q79857
Product(s): Microsoft Programming Utilities
Version(s): MS-DOS:3.11,3.17,3.18,3.2,3.20.010,3.31,3.4; OS/2:3.11,3.17,3.18
Operating System(s): 
Keyword(s): kb16bitonly
Last Modified: 30-OCT-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft LIB for MS-DOS, versions 3.11, 3.17, 3.18, 3.2, 3.20.010, 3.31, 3.4 
- Microsoft LIB for OS/2, versions 3.11, 3.17, 3.18 
-------------------------------------------------------------------------------

SUMMARY
=======

Communal data declarations generate no PUBLIC definitions. Therefore, although
they can be placed in a library, they are not placed in the library dictionary
and will not be a part of the library listing generated by the LIB utility.

MORE INFORMATION
================

Communal variables are supported only by QuickC, Microsoft C versions 5.0 and
later, and MASM. They are, however, similar to common blocks in FORTRAN. In C,
communal variables are the uninitialized global data items. In MASM, they are
data items declared with the COMM qualifier.

The linker will assume the communal variables refer to an external defining
declaration elsewhere. If there is no external definition, the linker allocates
storage and initializes it to 0 (zero). If there is more than one declaration,
storage is allocated for the largest data item declared. For example, if I is
declared int I; in one module and char I; in another module, the linker will
allocate 2 bytes for I because the int is 2 bytes but the char is only 1 byte.
Because memory for communal variables may not be assigned until load time, their
use may reduce the size of your executable file.

When a communal variable is declared in a library and defined in one of the
object modules, references to that variable will be resolved with the defined
variable. For this reason, communal variable declarations are not recommended
for any file that might be placed in a library. If a variable defined in a .OBJ
file accidentally had the same name as a communal variable in a library that it
is being linked with, its value would unexplainably change every time you called
a library function that used that communal variable! The linker does not issue a
warning because the variable was defined only once, in the OBJ file.

In addition, a communal data item X in a library cannot be used to resolve an
external reference to X in a module linked with that library. For example,
linking the following:

     C File            Module in Library
     ------            -----------------
    
     extern int X;           int X;

        void main(void)
        {
           X = 5;
        }

would still result in the error:

  L2029 'X': unresolved external

Additional query words: kbinf 3.11 3.17 3.18 3.20, 3.20.01 3.31 3.40

======================================================================
Keywords          : kb16bitonly 
Technology        : kbVCsearch kbAudDeveloper kbLibSearch kbZNotKeyword3 kbLibMan318DOS kbLibMan311DOS kbLibMan317DOS kbLibMan320DOS kbLibMan320010DOS kbLibMan331DOS kbLibMan340DOS kbLibMan311OS2 kbLibMan317OS2
Version           : MS-DOS:3.11,3.17,3.18,3.2,3.20.010,3.31,3.4; OS/2:3.11,3.17,3.18

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>