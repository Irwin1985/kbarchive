<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q105068: Defrag May Not Be Able to Defragment a Drive 100% | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q105068: Defrag May Not Be Able to Defragment a Drive 100%" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/105/Q105068/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/105/Q105068/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q105068: Defrag May Not Be Able to Defragment a Drive 100%","url":"http://jeffpar.github.io/kbarchive/kb/105/Q105068/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q105068-defrag-may-not-be-able-to-defragment-a-drive-100">Q105068: Defrag May Not Be Able to Defragment a Drive 100%</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q105068
Product(s): Microsoft Disk Operating System
Version(s): MS-DOS:6.0,6.2,6.21,6.22
Operating System(s): 
Keyword(s): 
Last Modified: 16-NOV-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft MS-DOS operating system versions 6.0, 6.2, 6.21, 6.22 
-------------------------------------------------------------------------------

SYMPTOMS
========

In certain circumstances, Microsoft Defragmenter (Defrag) may be unable to
defragment a drive 100 percent. Even after fully defragmenting a drive, you may
receive a message similar to the following:

  99% of drive C: is not fragmented.
  Recommended optimization method:
  Unfragment Files Only

Even if you perform a full optimization, the drive may not become 100%
defragmented.

CAUSE
=====

This problem occurs when there are unmovable blocks (clusters) on the drive and
a movable file is made noncontiguous by one of these blocks. Defrag tries to fit
files around the unmovable blocks so that the files remain contiguous, but it is
not always possible to achieve a perfect fit.

In the following simplified example, the drive has only ten clusters and three
files; file A has five movable clusters, file B has two unmovable clusters, and
file C has two unmovable clusters:

  CLUSTER:  1   2   3   4   5   6   7   8   9   10
           ----------------------------------------
  FILE:     A   B   B   A   A   A   C   C   A
           ----------------------------------------
  STATUS:   O   X   X   O   O   O   X   X   O   O

  CLUSTER = The cluster number on the drive.
  FILE    = The file that occupies the cluster.
  STATUS  = O : MOVABLE    X : UNMOVABLE

In this example, files B and C cannot be moved. Because there are not five
contiguous, movable clusters on the drive, file A cannot be fully optimized and
the drive cannot be 100% defragmented.

Although it appears you could work around this problem by making unmovable files
movable, doing so is not a good idea. Many programs mark a file as unmovable
because the program keeps track of the exact location of the file. Moving the
file can cause the program it is associated with to fail. For example, some
programs use unmovable files as part of a copy-protection scheme.

It is better to have a slight level of fragmentation than risk moving an
unmovable file that should not be moved.

Additional query words: 6.22 6.20 6.00

======================================================================
Keywords          :  
Technology        : kbMSDOSSearch kbMSDOS621 kbMSDOS622 kbMSDOS620 kbMSDOS600
Version           : MS-DOS:6.0,6.2,6.21,6.22

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>