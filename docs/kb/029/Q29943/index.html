<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q29943: SCREEN Function Gives COLOR Attribute; Foreground, Background | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q29943: SCREEN Function Gives COLOR Attribute; Foreground, Background" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/029/Q29943/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/029/Q29943/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q29943: SCREEN Function Gives COLOR Attribute; Foreground, Background","url":"http://jeffpar.github.io/kbarchive/kb/029/Q29943/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q29943-screen-function-gives-color-attribute-foreground-background">Q29943: SCREEN Function Gives COLOR Attribute; Foreground, Background</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q29943
Product(s): See article
Version(s): 1.00 1.02 2.00 2.01 3.00 4.00 4.00b 4.50
Operating System(s): MS-DOS
Keyword(s): ENDUSER | B_BasicCom B_GWBasicI | mspl13_basic
Last Modified: 15-JAN-1991

The SCREEN function can return the color attribute of a character on
the screen. If the SCREEN function is invoked at a location where a
character is printed, the color attribute returned is a combination of
the foreground and background colors.

If the character is not blinking (that is, the high-order, eighth bit
is off), the foreground color can be obtained by taking the color
attribute MOD 16, and the background color can be obtained by dividing
the color attribute by 16. If the character is blinking, just turn off
the eighth bit in the attribute byte before this calculation. For
example:

   X% = SCREEN (1, 1, 1)
   X% = X% AND &amp;H7F   ' Turns off bit 8.

The following formula shows the relationship between the attribute and
the foreground and background colors, taking into account all eight
bits of the attribute:

   ATTRIBUTE = 128*(FOREGROUND\16) + BACKGROUND*16 + (FOREGROUND MOD 16)

This information applies to Microsoft QuickBASIC versions 1.00, 1.01,
1.02, 2.00, 2.01, 3.00, 4.00, 4.00b, and 4.50 for MS-DOS, to Microsoft
BASIC Compiler versions 6.00 and 6.00b for MS-DOS and MS OS/2, and to
Microsoft BASIC Professional Development System (PDS) versions 7.00
and 7.10 for MS-DOS and MS OS/2.

The following is a bitmap of the attribute returned by the SCREEN
function:

        BIT -&gt;    7     6     5     4     3     2     1     0
               _________________________________________________
               |  0  |  1  |  0  |  0  |  0  |  0  |  0  |  1  |
               -------------------------------------------------
                  ^     ^     ^     ^     ^     ^     ^     ^
                  |     |     |     |     |     |     |     |
        Blinking --     -------------     |     -------------
                       |      Intensity --     |
     Background Color --                       -- Foreground Color

Code Example
------------

CLS
COLOR 4, 1
PRINT "hello";
X% = SCREEN (1, 1, 1)
PRINT "Attribute: "; X%
X% = X% AND &amp;H7F          ' Makes sure blinking bit (bit 8) is off.
PRINT "Foreground: "; X% MOD 16
PRINT "Background: "; X% \ 16
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>