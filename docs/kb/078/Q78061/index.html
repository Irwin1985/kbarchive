<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q78061: Problems with LAN Manager Updates and OS/2 1.3 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q78061: Problems with LAN Manager Updates and OS/2 1.3" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/078/Q78061/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/078/Q78061/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q78061: Problems with LAN Manager Updates and OS/2 1.3","url":"http://jeffpar.github.io/kbarchive/kb/078/Q78061/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q78061-problems-with-lan-manager-updates-and-os2-13">Q78061: Problems with LAN Manager Updates and OS/2 1.3</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q78061
Product(s): Microsoft LAN Manager
Version(s): 
Operating System(s): 
Keyword(s): 
Last Modified: 30-JUL-2001

SUMMARY
=======

PROBLEM ID: 1562

SYMPTOMS
========

When running UPDATE.EXE, LAN Manager overrides the default IBM OS/2 1.3 spooler
with its own spooler files located in the LAN Manager tree. These spooler files
are from the OS/2 version 1.21 spooler, and are not totally compatible with OS/2
version 1.3. The following problems have been verified to be the result of this
mismatch of spooler files:

- Missing printer installer in the print manager. This problem occurs because
  the OS/2 1.21 spooler does not have the built-in print installer menu option
  that is part of the OS/2 1.3 print manager.

- Detach failing when trying to apply a patch or run LAN Manager 2.0c on a
  server running IBM OS/2 1.3 because LMPRINT seems to be in use even though
  there are no printers or queues using LMPRINT.

- The SYS2070 error, which states that the application code segment for PMSPL
  is in error and cannot be loaded, occurs with OS/2 1.30.1. For additional
  information, the SYS2070 error says to see SYS0182. (This error occurs when
  the OS/2 1.21 PMSPL.DLL is used with the OS/2 1.3 spooler.)

CAUSE
=====

UPDATE.EXE installs PMSPL.DLL and PMSPOOL.EXE in the LANMAN tree on all versions
of OS/2. These files should be installed only on systems with OS/2 versions 1.2
and earlier (SETUP.EXE has special case code to handle this; therefore, clean
installations of LAN Manager 2.0 should not experience this problem, only those
that used UPDATE.EXE).

RESOLUTION
==========

The best workaround is to remove or delete these two files (PMSPL.DLL and
PMSPOOL.EXE) from the LAN Manager NETPROG and NETLIB directories immediately
after running the update and before rebooting, because they are NOT needed with
OS/2 1.3.

If you have already rebooted your system after upgrading and now have the OS/2
1.21 spooler files in use by the OS/2 1.3 operating system, use one of the
following two workarounds:

(Note: These workarounds assume LAN Manager is installed in the default C:\LANMAN
directory. If not, replace C:\LANMAN with the correct path.)

1. Boot from a floppy disk and remove the following files:

  a. Log on as a local admin and remove any ACLs on
     C:\LANMAN\NETPROG\PMSPOOL.EXE and C:\LANMAN\NETLIB\PSMPL.DLL.

  b. Boot with the OS/2 install floppy disk, press ESC to get a shell, and
     delete C:\LANMAN\NETPROG\PMSPOOL.EXE and C:\LANMAN\NETLIB\PMSPL.DLL.

  Reboot; your print manager should now be the version 1.3 print manager.

2. Edit CONFIG.SYS to load the OS/2 1.3 spooler before the LAN Manager spooler.

  Note: Be careful when attempting this workaround. If the CONFIG.SYS file is
  edited incorrectly, the server software may not load at all, leaving no
  access to the hard drive. The only option will then be to reformat your hard
  drive.

  a. Carefully edit the CONFIG.SYS file:

     1. Move C:\OS2\DLL before C:\LANMAN\NETLIB in the LIBPATH entry.

     2. Move C:\OS2 before C:\LANMAN\NETPROG in the PATH entry.

  b. Reboot; everything should come up fine. If you are running local security,
     however, the message "local security could not be started, the system is
     booting in privileged mode" will appear. This is because you are using the
     OS/2 CACHE.EXE and not the LAN Manager CACHE.EXE. This message can be
     ignored temporarily; complete the following steps immediately to complete
     this workaround and restore local security.

  c. Remove or rename the C:\LANMAN\NETLIB\PMSPL.DLL and
     C:\LANMAN\NETPROG\PMSPOOL.EXE files.

  d. Edit CONFIG.SYS and place the LAN Manager references before the OS/2
     references (see step 1 above).

  Reboot; your print manager should now be the version 1.3 print manager.

STATUS
======

Microsoft has confirmed this to be a problem in LAN Manager version 2.0. This
problem was corrected in LAN Manager version 2.1.

Additional query words: 2.00

======================================================================
Keywords          :  

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>