<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q255695: XCON: Do Not Reroute Incoming SMTP Mail Allows Relay as NDR | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q255695: XCON: Do Not Reroute Incoming SMTP Mail Allows Relay as NDR" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/255/Q255695/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/255/Q255695/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q255695: XCON: Do Not Reroute Incoming SMTP Mail Allows Relay as NDR","url":"http://jeffpar.github.io/kbarchive/kb/255/Q255695/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q255695-xcon-do-not-reroute-incoming-smtp-mail-allows-relay-as-ndr">Q255695: XCON: Do Not Reroute Incoming SMTP Mail Allows Relay as NDR</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q255695
Product(s): Microsoft Exchange
Version(s): winnt:5.5 SP1,5.5 SP2,5.5 SP3
Operating System(s): 
Keyword(s): exc55sp1 exc55sp2 exc55sp3
Last Modified: 21-APR-2000

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Exchange Server, versions 5.5 SP1, 5.5 SP2, 5.5 SP3 
-------------------------------------------------------------------------------

SUMMARY
=======

In Exchange Server 5.5 Service Pack 1 and later, routing restrictions are added
to the Internet Mail Service to provide extra security. The Routing tab of the
Internet Mail Service contains the two following options to route mail:

- "Reroute incoming SMTP mail (Required for POP3/IMAP4 Support)"

- "Do not reroute incoming SMTP mail"

If you select the "Do not reroute incoming SMTP mail" option, you disable the
ability to reroute mail for Post Office Protocol version 3 (POP3) and Internet
Message Access Protocol Version 4rev1 (IMAP4) support, but you do not stop
intruders who litter large numbers of e-mail boxes with unwanted messages (spam
e-mail) or cause heavy processing time on your server.

MORE INFORMATION
================

When the "Do not reroute incoming SMTP mail" option is set, intruders can relay
a message off your Internet Mail Service, because the Internet Mail Service
processes the entire message. The message is sent to the recipient that is
addressed in the MAIL FROM field. This allows intruders to cause heavy
processing time on your server with spam e-mail, and to actually deliver
messages in the non-delivery report (NDR) format to the intended recipient.

To stop intruders from spamming and relaying off your server, select the "Reroute
incoming SMTP mail (Required for POP3/IMAP4 Support)" option. On the Routing
tab, set routing restrictions; click to select the "Hosts and clients that
successfully authenticate" check box. You need to restart the Internet Mail
Service for this change to take effect.

This stops all intruders from relaying and spamming messages from your server,
which uses processing time on your server. With this setting enabled, intruders
receive a "relaying is prohibited" response if the RCPT TO field is addressed to
an outside recipient.

NOTE: After you install Service Pack 1, routing restriction settings are
activated through the registry. For additional information about the settings
for these registry entries, click the article number below to view the article
in the Microsoft Knowledge Base:

  Q193922 XFOR: Preventing the Internet Mail Service From Relaying Unsolicited
  Commercial E-Mail Messages

In Exchange Server 5.5 Service Pack 2 and later, routing restriction settings are
built into the connector, on the Routing tab of the Internet Mail Service.

There is often confusion about the differences between routing and relaying:

- Routing. Routing mail is the equivalent of delivering a message to recipients
  that exist in the local directory. With routing restrictions enabled, all
  messages are still "routed." Mail is delivered to users that exist in the
  directory from any sender.

- Relaying. Relaying mail is bouncing a message to any particular recipient
  that does not exist locally on that server. If a message is relayed, the
  server delivers that message to the recipient if the user is not in the local
  directory.

Additional query words:

======================================================================
Keywords          : exc55sp1 exc55sp2 exc55sp3 
Technology        : kbExchangeSearch kbZNotKeyword2 kbExchange550SP1 kbExchange550SP2 kbExchange550SP3
Version           : winnt:5.5 SP1,5.5 SP2,5.5 SP3
Issue type        : kbinfo

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>