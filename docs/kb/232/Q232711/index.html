<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q232711: How Cluster Integrity Is Monitored in WLBS | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q232711: How Cluster Integrity Is Monitored in WLBS" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/232/Q232711/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/232/Q232711/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q232711: How Cluster Integrity Is Monitored in WLBS","url":"http://jeffpar.github.io/kbarchive/kb/232/Q232711/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q232711-how-cluster-integrity-is-monitored-in-wlbs">Q232711: How Cluster Integrity Is Monitored in WLBS</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q232711
Product(s): Microsoft Windows NT
Version(s): winnt:1.0,4.0
Operating System(s): 
Keyword(s): kbnetwork
Last Modified: 10-AUG-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Server, Enterprise Edition version 4.0 
- Microsoft Windows NT Load Balancing Service 1.0 
-------------------------------------------------------------------------------

SUMMARY
=======

Cluster integrity is monitored by the periodic exchange of proprietary messages
between cluster members; these messages are called heartbeats. Each cluster host
periodically sends a heartbeat from its virtual network adapter to the segment
in which the cluster's virtual network adapters reside to let the other hosts
know that it is "alive."

When the Windows NT Load Balancing Service (WLBS) cluster is configured to use a
unicast media access control (MAC) address, the heartbeat is sent to the
Ethernet broadcast address, FFFFFFFFFFFF. When the cluster is configured to use
a multicast MAC address, the heartbeat is sent to the cluster's multicast MAC
address. The virtual network adapter of each cluster host must be in the same
network segment or subnet as the other cluster hosts' virtual network adapters
to be able to receive the heartbeat from each other.

By default, the time period a cluster host waits before sending the next
heartbeat is 1 second. This can be customized by adjusting the AliveMsgPeriod
registry parameter.

By default, a cluster host is declared inactive by the other hosts if its
heartbeat is missed for five periods. You can customize this value by adjusting
the AliveMsgTolerance registry parameter.

The intracluster traffic that is created by the heartbeat is miniscule. It is a
function of the cluster size, not of the number of users or offered load. The
size of the heartbeat message is 1.5 KB. It is stamped with a version number and
newer versions are insured to be backward compatible.

MORE INFORMATION
================

The heartbeat's Ethernet frame type is 0x886f (IEEE registered). The frame type
used in previous versions of WLBS is 0xbf01. In a mixed cluster composed of WLBS
and previous versions of WLBS, WLBS reverts to frame type 0xbf01.

REFERENCES
==========

For additional information, please see the following article in the Microsoft
Knowledge Base:

  Q193601 Registry Parameters for Windows NT Load Balancing Service

Additional query words: convoy nic

======================================================================
Keywords          : kbnetwork 
Technology        : kbWinNTsearch kbWinNT400search kbWinNTSsearch kbWinNTSEntSearch kbWinNTSEnt400 kbWinNTS400search kbWinNTLBS100 kbWinNTLBSSearch
Version           : winnt:1.0,4.0
Issue type        : kbinfo

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>