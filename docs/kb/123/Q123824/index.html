<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q123824: X400: Err Msg: ERROR 1 (TRAN): Invalid TPDU 70 in State 4 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q123824: X400: Err Msg: ERROR 1 (TRAN): Invalid TPDU 70 in State 4" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/123/Q123824/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/123/Q123824/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q123824: X400: Err Msg: ERROR 1 (TRAN): Invalid TPDU 70 in State 4","url":"http://jeffpar.github.io/kbarchive/kb/123/Q123824/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q123824-x400-err-msg-error-1-tran-invalid-tpdu-70-in-state-4">Q123824: X400: Err Msg: ERROR 1 (TRAN): Invalid TPDU 70 in State 4</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q123824
Product(s): Microsoft Mail For PC Networks
Version(s): MS-DOS:3.2x
Operating System(s): 
Keyword(s): 
Last Modified: 10-NOV-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Mail Gateway to X.400, version 3.2x 
-------------------------------------------------------------------------------

SYMPTOMS
========

Version 3.2x of the Microsoft Mail Gateway for X.400 may display the following
message in the X400xxxx.LOG file if verbose and debug logging are enabled
(-lvd):

  Incoming ER TPDU on connection xx:
  0970001A 00C10302 F080
  ERROR 1 (TRAN): Invalid TPDU 70 in state 4

CAUSE
=====

The data field in the message has a field length of zero. This is allowed if it
is the last packet.

RESOLUTION
==========

The remote X400 message transfer agent (MTA) must be able to accept the last
packet in the conversation if it has a data field length of zero. Contact the
administrator of the other X400 MTA to verify it will accept an end packet of
data field length zero.

MORE INFORMATION
================

A complete explanation of the TPDU follows:

  rv[ 10] 0970001A 00C10302 F080

     09  length       = 9
     70  TPDU type    = ER
     001A             = Destination reference
     00  reject cause = Not specified
     C1 03 02 F080    = The invalid TPDU that the other side is
                        complaining about.

The invalid TPDU:

     02 length        = 2
     F0 TPDU type     = DT
     80  EOT or the end flag.

The Microsoft X.400 Gateway may create a zero length data field if the length of
the message happened to fall on a DT TPDU boundary. This is not a violation of
the X.400 standard. According to X.224 section 6.3.3.:

  All DT TPDUs except the last DT TPDU in a sequence greater than one shall
  have a length of data greater than zero.

This is the last DT TPDU in a sequence (the EOT flag being on), so it is allowed
to have a zero length user data field.

Additional query words: x400 errmsg

======================================================================
Keywords          :  
Technology        : kbMailSearch kbMailGateSearch kbZNotKeyword3 kbMailGatex40032xSearch
Version           : MS-DOS:3.2x

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>