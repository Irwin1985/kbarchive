<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q193505: Event 2048 When Trying to Connect from French Client Workstation | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q193505: Event 2048 When Trying to Connect from French Client Workstation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/193/Q193505/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/193/Q193505/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q193505: Event 2048 When Trying to Connect from French Client Workstation","url":"http://jeffpar.github.io/kbarchive/kb/193/Q193505/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q193505-event-2048-when-trying-to-connect-from-french-client-workstation">Q193505: Event 2048 When Trying to Connect from French Client Workstation</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q193505
Product(s): Microsoft Windows NT
Version(s): winnt:4.0
Operating System(s): 
Keyword(s): 
Last Modified: 11-DEC-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Server version 4.0, Terminal Server Edition 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you try to connect to an English version of Terminal Server from a French
version of Windows NT Workstation or a French version of Windows 95, running the
Terminal Server client software, the client get a Terminal Server Client
Disconnect message box with the following message:

  Terminal server has ended the connection.

On the Terminal Server, an event 2048 is logged in the System Log:

  The RDP protocol component RDP detected an error in the protocol stream
  and has disconnected the client.

The data section of this event ID shows the following information:

  Data:
  0000: 00 00 04 00 02 00 5c 00
  0008: 00 00 00 00 00 08 0a c0
  0010: 00 00 00 00 00 08 0a c0
  0018: 00 00 00 00 00 00 00 00
  0020: 00 00 00 00 00 00 00 00
  0028: d9 00 00 00

CAUSE
=====

Data encryption is prohibited within France.

When the Terminal Server client is loaded on a French workstation, the client
recognizes this and disables encryption, according to French law. When the
Terminal Server client attempts to connect to a non-French Terminal Server, the
Terminal Server attempts to negotiate an encryption level with the client. The
client cannot do this and, therefore, the connection fails.

STATUS
======

This behavior is by design.

MORE INFORMATION
================

The same situation exists when you have the French clients mentioned with a
French Terminal Server installed as a Member Server in an English domain. If the
backup domain controller that will be authenticating the Terminal Server
sessions is English with higher encryption (such as 128-bit), the clients will
receive the same error message ("Terminal server has ended the connection") and
event 2048 will be generated. This is because of the process; the clients are
not logging on to the Terminal Server, they are logging on through Terminal
Server to the domain. The domain controller negotiates the encryption level from
Terminal Server to the domain controller and authenticates the user. Therefore,
even though it is French from the client to the Terminal Server, it is French on
the Terminal Server to English on the domain controller and generates event
2048.


Additional query words: terminalsrv RDP

======================================================================
Keywords          :  
Technology        : kbWinNTsearch kbWinNT400search kbWinNTSsearch kbWinNTS400search kbNTTermServ400 kbNTTermServSearch
Version           : winnt:4.0
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>