<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q152167: Dir-Sync w/Many Computers Running Exchange Server, MS Mail POs | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q152167: Dir-Sync w/Many Computers Running Exchange Server, MS Mail POs" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/152/Q152167/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/152/Q152167/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q152167: Dir-Sync w/Many Computers Running Exchange Server, MS Mail POs","url":"http://jeffpar.github.io/kbarchive/kb/152/Q152167/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q152167-dir-sync-wmany-computers-running-exchange-server-ms-mail-pos">Q152167: Dir-Sync w/Many Computers Running Exchange Server, MS Mail POs</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q152167
Product(s): Microsoft Exchange
Version(s): winnt:4.0
Operating System(s): 
Keyword(s): kbother kbusage
Last Modified: 27-MAR-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Exchange Server, version 4.0 
-------------------------------------------------------------------------------

SUMMARY
=======

This article is a "how to" that applies to MS Mail directory synchronization
(dir-sync) when the dir-sync server is a computer running Microsoft Exchange
Server and other computers running Microsoft Exchange Server are servicing other
MS Mail postoffices.

MORE INFORMATION
================

In this example there are two MS Mail postoffices(PO1 and PO2) and two computers
running Microsoft Exchange Server (X1 and X2). Each MS Mail postoffice being
serviced by a single computer running Microsoft Exchange Server over the MS Mail
Connector service. Configure as follows: PO1 configured as direct to X1 and X1
configured as direct to PO1. PO2 configured as direct to X2 and X2 configured as
direct to PO2.

1. Configure the MS Mail Connector to communicate with MS Mail postoffices(X1 to
  PO1 and X2 to PO2).

2. PO1 to X2(shadow PO) via X1(shadow PO), PO1 to PO2 via X1(shadow PO).

3. PO2 to X1(shadow PO) via X2(shadow PO), PO2 to PO1 via X2(shadow PO).

4. Create a new Custom Recipients container(call it something like MSMail
  Recipients).

From the Microsoft Exchange Administrator program on the computer running
Microsoft Exchange Server, which will be the Directory Synchronization Server:

1. Create a Site Connector between X1 and X2.

2. Create a Directory Replication Connector between X1 and X2--allow time for
  replication, which this may take several minutes.

3. On the File menu, click New Custom Recipient, and click Microsoft Mail
  Address. Type Network/PostOffice and a user name of $system for every MS Mail
  postoffice not being serviced directly by the directory synchronization
  server(all are being serviced via MS Mail Connector on X2 Microsoft Exchange
  server in this example).

4. Create a Directory Synchronization Server: on the File menu, click New Other,
  and click Directory Synchronization Server.

5. Create Directory Synchronization requesters: on the File Menu, click New
  Other, and click Remote Dir-Sync Requestor. The direct defined postoffices
  will be listed. Select each entry listed (each MS Mail postoffice that will
  participate in dir-sync). This will need to be done with every MS Mail
  postoffice requestor.

When creating/defining the requestor for the MS Mail postoffices not serviced by
the Director Synchronization server, do the following:

From the Microsoft Exchange Administrator Program on the computer running
Microsoft Exchange Server, which will be the Directory Synchronization Server:

1. On the File menu, click New Other and click Remote Dir-Sync Requestor. Select
  &lt;non msmail requestor&gt;, click the Dir-Sync Address tab and pick the
  custom recipient network/postoffice/$system (the custom recipient created in
  step 4 above (this must be done for every non-serviced MS Mail requestor).

2. Start the Microsoft Exchange Directory Synchronization service and the MS
  Mail Connector service. Stop and restart the Microsoft Exchange Message
  Transfer Agent service(on both computers running Microsoft Exchange Servers),
  as well as any MTA services that were created when defining the MS Mail
  postoffices that are serviced by the Directory Synchronization server.

Additional query words: Directory Synchronization dirsync dirsynch

======================================================================
Keywords          : kbother kbusage 
Technology        : kbExchangeSearch kbExchange400 kbZNotKeyword2
Version           : winnt:4.0
Issue type        : kbhowto

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>