<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q316316: SMS: Distribution Manager Not Work and Error 998 During Compress | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q316316: SMS: Distribution Manager Not Work and Error 998 During Compress" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/316/Q316316/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/316/Q316316/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q316316: SMS: Distribution Manager Not Work and Error 998 During Compress","url":"http://jeffpar.github.io/kbarchive/kb/316/Q316316/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q316316-sms-distribution-manager-not-work-and-error-998-during-compress">Q316316: SMS: Distribution Manager Not Work and Error 998 During Compress</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q316316
Product(s): Microsoft Systems Management Server
Version(s): 2.0 SP3,2.0 SP4
Operating System(s): 
Keyword(s): kbSoftwareDist kbsms200preSP4fix
Last Modified: 06-AUG-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Systems Management Server versions 2.0 SP3, 2.0 SP4 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you compress a package to send to subsites, the Distribution Manager
component in the Systems Management Server (SMS) executive may log the following
error message and the package may not be compressed:

  Cannot write to output file, Win32 Error = 998

RESOLUTION
==========

There is a hotfix for this problem. However, Microsoft recommends that you apply
the hotfix that is described in the following Microsoft Knowledge Base article:

  Q319207 SMS: Retrying a Package Update May Create Many Jobs

This is a closely related problem, and the hotfix that is described in Q319207
also contains the fix for the problem that is described in this article.

WORKAROUND
==========

This error occurs only with multistreamed source files. To work around the
problem, remove the alternate data streams from the source files. To do this,
copy the source files to a non-NTFS partition, and then copy them back to the
source folder on the NTFS partition.

For more information about data streams, please see the following Microsoft
Developer Network (MSDN) Web site:

  http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnfiles/html/ntfs5.asp

STATUS
======

Microsoft has confirmed that this is a problem in the Microsoft products that
are listed at the beginning of this article. This problem was first corrected in
the Systems Management Server 2.0 Service Pack 4 Hotfix Rollup Package (HRP).

For additional information about the SMS 2.0 SP4 HRP, click the article number
below to view the article in the Microsoft Knowledge Base:

  Q323206 SMS: List of Bugs Fixed in the Systems Management Server 2.0 SP4 HRP

MORE INFORMATION
================

Installation Instructions
-------------------------

1. Log on locally to your site server by using an account with local
  administrative privileges.

2. On the site server, quit the SMS Administrator console. Manually stop both
  the SMS_Site_Component_Manager and SMS_Executive services.

3. Run the Q316316.exe SMS Installer script, and then follow the instructions in
  the wizard.

4. After you run the Installer script, check the Q316316.log file in the
  &lt;Sms_root_folder&gt;\Logs folder to verify that the files are successfully
  installed on the site server.

5. Verify that both the SMS_Site_Component_Manager and SMS_Executive services
  successfully restarted.

Manual Installation Instructions
--------------------------------

1. Stop both the SMS Site Component Manager and SMS Executive services on the
  SMS site server.

2. Replace the Distmgr.dll file in the
  &lt;Sms_root_folder&gt;\Bin\&lt;Platform&gt; folder with the version of the
  file that you obtain from the hotfix.

3. Replace the Baseutil.dll file in the
  &lt;Sms_root_folder&gt;\Bin\&lt;Platform&gt; folder with the version of the
  file that you obtain from the hotfix.

4. Restart both the SMS Site Component Manager and SMS Executive services.




Additional query words: prodsms

======================================================================
Keywords          : kbSoftwareDist kbsms200preSP4fix 
Technology        : kbSMSSearch kbSMS200SP3 kbSMS200SP4
Version           : :2.0 SP3,2.0 SP4
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>