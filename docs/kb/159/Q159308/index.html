<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q159308: XFOR: DirSync Names Disappearing | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q159308: XFOR: DirSync Names Disappearing" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/159/Q159308/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/159/Q159308/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q159308: XFOR: DirSync Names Disappearing","url":"http://jeffpar.github.io/kbarchive/kb/159/Q159308/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q159308-xfor-dirsync-names-disappearing">Q159308: XFOR: DirSync Names Disappearing</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q159308
Product(s): Microsoft Exchange
Version(s): winnt:4.0
Operating System(s): 
Keyword(s): kbnetwork
Last Modified: 10-APR-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Exchange Server, version 4.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

Directory synchronized names either never seem to get to Microsoft Exchange
Server, or names disappear after you perform a modify. This is most commonly
seen when a new user is added to the directory synchronization (dir-sync) stream
and then there is a modify transaction containing template information.

If directory synchronized Custom Recipients were once in the Microsoft Exchange
Directory and have disappeared or some names are received by Microsoft Exchange
and seem to be discarded, you may be experiencing this problem.

CAUSE
=====

In the Microsoft Mail dir-sync process, it is possible to send a (M)odify
transaction followed only by the new template information as follows:

  A Leopard, Lady                  SNADS:NET/PO/LEOPARD
  M Leopard, Lady                  SNADS:NET/PO/LEOPARD
  Leopard, Lady                  SNADS:NET/PO/LEOPARD&lt;----Notice this is
  duplicate of line 1
   - Internal Mail Code:/1 and is not necessary on MSMail DirSync.
   - Department:/2
   - Division:/Testing
  A Lion, Leo                      SNADS:NET/PO/LIONLEO
  M Lion, Leo                      SNADS:NET/PO/LIONLEO
   - Internal Mail Code:/1
   - Department:/2
   - Division:/Testing

Notice Leo Lion's (M)odify is not followed by a second line repeating his
friendly name/address information as Lady Leopard's (M)odify does. His (M)odify
transaction goes directly into the Template information changes.

Both of these (M)odify transactions are valid according to the Microsoft Mail
Dir-Sync Protocol but the (M)odify transaction is not being handled properly by
Exchange if it does not contain the friendly name/address information repeated
on the second line of the (M)odify transaction. Note: this replication is not
necessary, according to the Microsoft Mail Dir- Sync Protocol, if the friendly
name or address has not changed.

All Microsoft Mail postoffices and computers running Microsoft Exchange Server
will duplicate the friendly name/address information line as Lady Leopard's
(M)odify illustrates above. This problem is only seen when manual Import.txt
files are created and added to the dir-sync stream manually or by an automated
process written by you.

WORKAROUND
==========

To work around this problem:

Ensure that all (M)odify transactions destined for Exchange has the friendly
name/address information line repeated on line two of the (M)odify transaction.


STATUS
======

Microsoft has confirmed this to be a problem in Microsoft Exchange Server
version 4.0. This problem was corrected in the latest Microsoft Exchange 4.0
U.S. Service Pack. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):

  S E R V P A C K


Additional query words:

======================================================================
Keywords          : kbnetwork 
Technology        : kbExchangeSearch kbExchange400 kbZNotKeyword2
Version           : winnt:4.0
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>