<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q159566: XCON: MTA Error 209: Submitting Domain Is Inconsistent | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q159566: XCON: MTA Error 209: Submitting Domain Is Inconsistent" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/159/Q159566/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/159/Q159566/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q159566: XCON: MTA Error 209: Submitting Domain Is Inconsistent","url":"http://jeffpar.github.io/kbarchive/kb/159/Q159566/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q159566-xcon-mta-error-209-submitting-domain-is-inconsistent">Q159566: XCON: MTA Error 209: Submitting Domain Is Inconsistent</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q159566
Product(s): Microsoft Exchange
Version(s): winnt:4.0,5.0,5.5
Operating System(s): 
Keyword(s): kbusage
Last Modified: 21-JUL-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Exchange Server, versions 4.0, 5.0, 5.5 
-------------------------------------------------------------------------------

SYMPTOMS
========

When connecting the Microsoft Exchange Server X.400 Connector to a foreign X.400
message transfer agent (MTA), the incoming message is not accepted by the
Microsoft Exchange Server MTA. The MTA may generate the following error message
in the Windows NT Server event log and the Microsoft Exchange Server Evx.log (if
enabled):

  Event: 209
  Source: MSExchangeMTA
  Category: X400 Service

  Unable to transfer in message C=xx;A=attmail;
  P=prmd;L=&lt;m0vBOkQ-0000xxxxxxxxxxx&gt; because the submitting domain
  identifier was inconsistent. A non-delivery report was generated with reason
  code unable-to-transfer and diagnostic code invalid-arguments. Contact
  Microsoft Product Support Services. [MTA XFER-IN 22 101] [14]

  EVx.log

  (MTA XFER-IN(22) Proc 101) 10-30-96 11:44:26am
  Transfer-In failure, submitting domain inconsistent
  X.400 reason code unable-to-transfer
  X.400 diagnostic code invalid-arguments
  MTS Identifier C=US;A=ATTMAIL;L=0045900001000181000002

CAUSE
=====

The Microsoft Exchange Server MTA rejects the message whenever the global domain
identifier on the first element of the trace information is different from the
one specified in the MTSID. The global domain identifier information in the
MTSID must be the same as the first element on the trace information. These
values are generated by the submitting MTA.

STATUS
======

Microsoft has confirmed this to be a problem in Microsoft Exchange Server
version 4.0. This problem was corrected in the latest Microsoft Exchange 4.0
U.S. Service Pack. For information on obtaining the service pack, query on the
following word in the Microsoft Knowledge Base (without the spaces):

  S E R V P A C K


MORE INFORMATION
================

There are two reasons as to why Microsoft Exchange Server rejects this message,
and both of them are by design.

The first reason has to do with the firewall function. The firewall is designed
to prevent any message transfer if the message's true origin appears to have
been altered. Because the MTSID cannot be changed across any relaying MTA, it
reflects the true global domain identifier of the message. However, the global
domain identifier on the trace information can be altered to reflect a different
country, ADMD, or PRMD, creating contradictory information about the message's
origin. The firewall does not allow this inconsistency.

The second reason has to do with conformance testing. This is required to pass
NCC conformance tests.


With Exchange Server 4.0, when the MTA receives this error, the message is not
submitted for delivery to the recipient. The fix implemented in Service Pack 4
resolves the problem of message delivery but does not remove the event ID.
Exchange Server version 5.0 and 5.5 still log the event and deliver the message.
The reason to log the event is that according the X.400 specifications, when the
information is not consistent, there is likely a security concern. In practice,
however, it is commonplace for an X.400 service provider MTA to alter the
information. For this reason, Microsoft fixed the product to allow delivery but
opted to still log the event.

Additional query words: Inconsistent GDI

======================================================================
Keywords          : kbusage 
Technology        : kbExchangeSearch kbExchange500 kbExchange550 kbExchange400 kbZNotKeyword2
Version           : winnt:4.0,5.0,5.5
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>