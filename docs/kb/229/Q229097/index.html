<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q229097: SMS: Possible Helpdesk TCP and UDP Port Conflicts | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q229097: SMS: Possible Helpdesk TCP and UDP Port Conflicts" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/229/Q229097/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/229/Q229097/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q229097: SMS: Possible Helpdesk TCP and UDP Port Conflicts","url":"http://jeffpar.github.io/kbarchive/kb/229/Q229097/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q229097-sms-possible-helpdesk-tcp-and-udp-port-conflicts">Q229097: SMS: Possible Helpdesk TCP and UDP Port Conflicts</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q229097
Product(s): Microsoft Systems Management Server
Version(s): 1.2
Operating System(s): 
Keyword(s): kbsms120 kbsms120bug
Last Modified: 06-AUG-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Systems Management Server version 1.2 
-------------------------------------------------------------------------------


SYMPTOMS
========

Client computers may experience conflicts between ports used by the Systems
Management Server Helpdesk function and by other applications. The existence of
a conflicting port can manifest itself in various ways, including, but not
limited to, general protection (GP) faults on the client computers, application
errors, and the Remote Control Agent hanging.

The Systems Management Server Helpdesk function uses the following ports during
its operations:

  Purpose                    Port
  -------------------------------

  Verification of Rights     1761
  Remote Control             1762
  Remote Reboot              1761
  Remote Chat                1763
  File Transfer              1764
  Remote Execute             1761

Use the following steps to determine if a conflict exists:

1. Disable the Systems Management Server Remote Control Agent (Wuser32.exe).

2. Restart the computer.

3. Run the command "netstat -a" (without the quotation marks).

If the above ports are listed (TCP and/or UDP) then a conflict exists.

CAUSE
=====

The UDP/TCP ports cannot be shared between applications.

RESOLUTION
==========

A supported fix is now available from Microsoft, but it is only intended to
correct the problem that is described in this article. Only apply it to systems
that are experiencing this specific problem. This fix may receive additional
testing. Therefore, if you are not severely affected by this problem, Microsoft
recommends that you wait for the next Systems Management Server service pack
that contains this fix.

To resolve this problem immediately, contact Microsoft Product Support Services
to obtain the fix. For a complete list of Microsoft Product Support Services
phone numbers and information about support costs, visit the following Microsoft
Web site:

  http://support.microsoft.com/default.aspx?scid=fh;EN-US;CNTACTMS

NOTE: In special cases, charges that are ordinarily incurred for support calls
may be canceled if a Microsoft Support Professional determines that a specific
update will resolve your problem. The usual support costs will apply to
additional support questions and issues that do not qualify for the specific
update in question.

The English-language version of this software update should have the following
file attributes or later:

  Date        Time    Version  Size     File name     Platform
  ------------------------------------------------------------
  03/23/2000  09:27p  786      649,488  Sightnt.dll   alpha
  07/24/1999  01:41a  786      134,928  Wchat32.exe   alpha
  04/07/2000  02:56a  786      157,968  Wslave32.exe  alpha
  04/03/2000  11:43p  786      346,384  Wuser32.exe   alpha
  03/23/2000  09:26p  786      333,008  Sightnt.dll   x86
  07/24/1999  01:41a  786       63,216  Wchat32.exe   x86
  04/07/2000  02:54a  786       77,936  Wslave32.exe  x86
  04/03/2000  11:41p  786      170,720  Wuser32.exe   x86

The German-language version of this software update should have the following file attributes (different time stamps) or later:

  Date        Time    Version  Size     File name     Platform
  ------------------------------------------------------------
  03/23/2000  08:27p  786      649,488  Sightnt.dll   alpha
  07/24/1999  12:41a  786      134,928  Wchat32.exe   alpha
  04/07/2000  01:56a  786      157,968  Wslave32.exe  alpha
  04/19/2000  00:21a  786      346,384  Wuser32.exe   alpha
  03/23/2000  08:27p  786      333,008  Sightnt.dll   x86
  07/24/1999  12:41a  786       63,216  Wchat32.exe   x86
  04/07/2000  01:54a  786       77,936  Wslave32.exe  x86
  04/19/2000  12:20a  786      170,720  Wuser32.exe   x86

This software update is only avalaible for Windows NT clients.



WORKAROUND
==========

To work around this problem, use a NetBIOS session for Remote Control rather
than IP sockets.

STATUS
======

Microsoft has confirmed that this is a problem in the Microsoft products that
are listed at the beginning of this article.

MORE INFORMATION
================

The new allocated ports are: 2701, 2702, 2703 and 2704. The following table
describes the new allocated ports:

  sms-rcinfo    2701/tcp   SMS RCINFO
  sms-rcinfo    2701/udp   SMS RCINFO
  sms-remctrl   2702/tcp   SMS REMCTRL 
  sms-remctrl   2702/udp   SMS REMCTRL
  sms-chat      2703/tcp   SMS CHAT
  sms-chat      2703/udp   SMS CHAT
  sms-xfer      2704/tcp   SMS XFER
  sms-xfer      2704/udp   SMS XFER

To install the hotfix, perform the following steps on the Systems Management
Server site server:

1. In the SMS\Site.srv\&lt;Platform&gt;.bin directory on the site server,
  replace the Sightnt.dll file with the version obtained from the hotfix.

2. In the SMS\Site.srv\Maincfg.box\Client.src\&lt;Platform&gt;.bin directory on
  the site server, replace the Wuser32.exe, Chat32.exe, and Wslave32.exe files
  with the version obtained from the hotfix.

At the next Maintenance Manager work cycle, the files are replicated to the
SMS\Logon.srv\&lt;Platform&gt;.bin directory on all Systems Management Server
logon servers. Subsequently, new clients get the new .exe file and the existing
clients can be updated. To update the existing clients, either manually run
Upgrade.bat on each client or follow the instructions in the following article
located in the Microsoft Knowledge Base:

  Q166771 SMS: How to Force Site-Wide Client Updates


Additional query words: prodsms

======================================================================
Keywords          : kbsms120 kbsms120bug 
Technology        : kbSMSSearch kbSMS120
Version           : :1.2
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>