<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q311257: SMS: Resources Not Discovered if Anonymous Connections Off | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q311257: SMS: Resources Not Discovered if Anonymous Connections Off" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/311/Q311257/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/311/Q311257/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q311257: SMS: Resources Not Discovered if Anonymous Connections Off","url":"http://jeffpar.github.io/kbarchive/kb/311/Q311257/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q311257-sms-resources-not-discovered-if-anonymous-connections-off">Q311257: SMS: Resources Not Discovered if Anonymous Connections Off</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q311257
Product(s): Microsoft Systems Management Server
Version(s): 2.0
Operating System(s): 
Keyword(s): kbnetwork kbtool kbui kbsms200 kbsms200bug
Last Modified: 06-AUG-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Systems Management Server version 2.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you are using the Network Discovery method in Systems Management Server
(SMS) 2.0 and Remote Client Installation with the "Topology, client, and client
operating systems" Network Discovery option is turned on, computers may be
discovered, but may not be installed. The following entry in the NetDisc.log
file may show that Network Discovery could not connect to the computer to
determine the operating system name and version:

  ADM: NtBrowser: Failed to create an anonymous connection to device computer
  name due to insufficient access.

CAUSE
=====

This problem may occur if anonymous connections are turned off on the discovered
computer.

WORKAROUND
==========

To work around this problem, turn on anonymous connections, either manually
through the registry, or by using a group policy.

Registry Method
---------------

For additional information manual configuration of anonymous connections by using
the registry, click the article numbers below to view the articles in the
Microsoft Knowledge Base:

  Q143474 Restricting Information Available to Anonymous Logon Users

  Q246261 How to Use the RestrictAnonymous Registry Value in Windows 2000

Group Policy Method
-------------------

For group policies that are defined at either the local, site, domain, or
organizational unit level, either turn off or change the setting to "None. Rely
on default permissions" in the Group Policy editor under:

  Computer Configuration \ Windows Settings \ Security Settings \ Local
  Policies \ Additional restrictions for anonymous connections

RESOLUTION

This problem has been corrected in the fix that is described in the following
Microsoft Knowledge Base article:

  Q312512 SMS: Network Discovery Cannot Connect Anonymously to Client After
  Remote Client Installation

STATUS
======

Microsoft has confirmed this to be a problem in Systems Management Server
version 2.0.

MORE INFORMATION
================

SMS Network Discovery uses an anonymous connection to determine what operating
system and version a computer has. SMS Network Discovery does not use the SNMP
SysDescr value, it makes an RPC call even if SNMP is turned on. If SMS Network
Discovery cannot determine the operating system, it cannot write that property
to the resulting Discovery Data Record (DDR). Because SMS Discovery Data Manager
(DDM) only writes Client Configuration Requests (CCRs) for computers that are
running Microsoft Windows NT, Microsoft Windows 2000, or Microsoft Windows XP,
DDM is designed to not create CCRs unless it can determine the operating system
from the DDR.

Additional query words: prodsms

======================================================================
Keywords          : kbnetwork kbtool kbui kbsms200 kbsms200bug 
Technology        : kbSMSSearch kbSMS200
Version           : :2.0
Issue type        : kbbug

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>