<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q240423: RPC Client Does Not Respond After SAP Name Resolution | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q240423: RPC Client Does Not Respond After SAP Name Resolution" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/240/Q240423/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/240/Q240423/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q240423: RPC Client Does Not Respond After SAP Name Resolution","url":"http://jeffpar.github.io/kbarchive/kb/240/Q240423/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q240423-rpc-client-does-not-respond-after-sap-name-resolution">Q240423: RPC Client Does Not Respond After SAP Name Resolution</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q240423
Product(s): Microsoft Windows 95.x Retail Product
Version(s): WINDOWS:95
Operating System(s): 
Keyword(s): kbnetwork win95 win98 win98se
Last Modified: 06-AUG-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows 95 
- Microsoft Windows 98 
- Microsoft Windows 98 Second Edition 
-------------------------------------------------------------------------------


SYMPTOMS
========

An program that requests Remote Procedure Call (RPC) services on a named server
by using the SPX protocol may encounter apparent name resolution problems, given
that subsequent attempts using the network address of the same server succeed.
The specific situation discussed in this article can be identified only with a
network trace. The message traffic leading up to this situation is as follows:

- The client issues an IPX Service Advertising Protocol (SAP) broadcast of a
  Nearest Service query to find a file server.

- The server whose name was submitted to RPC replies with an IPX SAP Nearest
  Service response.

- The client issues a NetWare Core Protocol (NCP) connect packet to the server.

- The server responds with an NCP reply indicating a successful connection.

- The client stops communicating with the server and does not issue the
  expected NCP Read Property Value response against the NET_ADDRESS of the
  server.

- RPC returns error 27 (RPC_S_SERVER_UNAVAILABLE) to the running program. The
  error message associated with this error is "The RPC server is unavailable."

This problem has been reported to occur on Windows 98 clients, as well as Windows
95 clients with Distributed Component Object Model (DCOM) version 1.2, or
Microsoft Internet Explorer version 4.01 installed.

CAUSE
=====

The cause is an incorrect status returned to the RPC client by the socket
provider following a successful SAP transaction to verify that the named server
provides the requested RPC service.


WORKAROUND
==========

If you encounter this problem, you can use the network address of the RPC server
in place of the server name. The possibility of substituting the address for the
name is dependent on the program in use, which may or may not allow you this
level of control.


MORE INFORMATION
================

The following information does not provide minimum and sufficient criteria to
reproduce the reported problem. It is included to define a sample of the basic
network configuration underlying the reported problem.

- Software: the MSDN Platform SDK RPC "Hello" sample programs

- Server: Microsoft Windows NT with NWLink IPX/SPX-compatible transport

- Client: Windows 95/Windows 98 with the Client for NetWare Networks and
  IPX/SPX Compatible Protocol installed

Commands to run:

  Server: hellos -p ncacn_spx -e 2000

  Client: helloc -p ncacn_spx -e 2000 -n &lt;servername&gt;

Replace &lt;servername&gt; with the actual name of the Windows NT server.

Additional query words:

======================================================================
Keywords          : kbnetwork win95 win98 win98se 
Technology        : kbWin95search kbWin98search kbWin98SEsearch kbZNotKeyword3 kbWin98 kbWin98SE
Version           : WINDOWS:95
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>