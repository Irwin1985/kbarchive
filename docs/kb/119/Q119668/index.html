<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q119668: PRB: Linker Produces 2-MB Executables Under Windows NT 3.5 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q119668: PRB: Linker Produces 2-MB Executables Under Windows NT 3.5" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/119/Q119668/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/119/Q119668/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q119668: PRB: Linker Produces 2-MB Executables Under Windows NT 3.5","url":"http://jeffpar.github.io/kbarchive/kb/119/Q119668/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q119668-prb-linker-produces-2-mb-executables-under-windows-nt-35">Q119668: PRB: Linker Produces 2-MB Executables Under Windows NT 3.5</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q119668
Product(s): Microsoft Programming Utilities
Version(s): 1.0
Operating System(s): 
Keyword(s): kbfile kbinterop
Last Modified: 11-FEB-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Fortran Powerstation 32 for Windows NT, version 1.0 
- The Microsoft Linker (LINK.EXE), version 1.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

LINK.EXE included with Visual C++ for Windows NT, version 1.0, or FORTRAN
PowerStation for Windows NT, version 1.0 produces 2 MB executable files when
used on Windows NT version 3.5.

CAUSE
=====

The linker uses a memory-mapped file for the output file that is generated. The
initial file size is 2 MB and it is increased in 2-MB increments as the output
size grows. When the linker is finished, it truncates the file to its proper
size. It does this by truncating the file then unmapping it from memory, whereas
it makes more sense to do the reverse. (Windows NT version 3.1 produces the
expected output anyway, but Windows NT version 3.5 does not. Under Windows NT
version 3.5, the truncation is not successful and the output remains 2 MB for
even the simplest "Hello, World" program.)

RESOLUTION
==========

The next releases of these products will contain linkers that do not have this
problem. Until then, the Win32SDK version 3.5 CD contains a version of LINK.EXE
that corrects this problem in the \support\linker\32bit directory. Replace the
Visual C++ version 1.0 linker with the linker included on the Win32 SDK version
3.5 CD.

STATUS
======

This problem was corrected with Windows NT, version 3.51, and FORTRAN
PowerStation, version 4.0.

MORE INFORMATION
================

The following files are available for download from the Microsoft Download
Center:

  lnk100.exe
  (http://download.microsoft.com/download/fortranps10bnt/Utility/1/NT4/EN-US/lnk100.exe)

For additional information about how to download Microsoft Support files, click
the article number below to view the article in the Microsoft Knowledge Base:

  Q119591 How to Obtain Microsoft Support Files from Online Services

Microsoft used the most current virus detection software available on the date of
posting to scan this file for viruses. Once posted, the file is housed on secure
servers that prevent any unauthorized changes to the file.

This linker is available on the Windows for NT version 3.5 CD in the
\support\linker\32bit directory. It is not available on the floppy disk set.

Additional query words: daytona megabyte huge patch

======================================================================
Keywords          : kbfile kbinterop 
Technology        : kbVCsearch kbAudDeveloper kbFortranSearch kbZNotKeyword2 kbLINKSearch kbLINK100 kbFORTRANPower32100NT
Version           : :1.0
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>