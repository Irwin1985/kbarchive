<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q117905: BUG: F1001 on a Structure Declaration with Arrays | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q117905: BUG: F1001 on a Structure Declaration with Arrays" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/117/Q117905/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/117/Q117905/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q117905: BUG: F1001 on a Structure Declaration with Arrays","url":"http://jeffpar.github.io/kbarchive/kb/117/Q117905/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q117905-bug-f1001-on-a-structure-declaration-with-arrays">Q117905: BUG: F1001 on a Structure Declaration with Arrays</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q117905
Product(s): Microsoft Fortran Compiler
Version(s): 1.0,1.0a
Operating System(s): 
Keyword(s): 
Last Modified: 03-NOV-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft FORTRAN PowerStation for MS-DOS, versions 1.0, 1.0a 
- Microsoft Fortran Powerstation 32 for Windows NT, version 1.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

Using the /Zi option to compile a program that has a structure declaration
containing medium-sized arrays can generate the following error message when
running on the FORTRAN PowerStation for MS-DOS, version 1.0a, or the FORTRAN
PowerStation 32 for Windows NT, version 1.0:

  fatal error F1001: INTERNAL COMPILER ERROR
  (compiler file '@(#)p2symtab.c:1.89', line 1601)

With the FORTRAN PowerStation for MS-DOS, version 1.0, the error message reads as
follows:

  fatal error F1001: INTERNAL COMPILER ERROR
  (compiler file '@(#)p2symtab.c:1.89', line 1390)

CAUSE
=====

This problem is caused by using the /Zi option when compiling some code that
contains structures. Whether the problem occurs depends on the size of the
elements of the structure, the order of the elements, and the names of the
elements.

RESOLUTION
==========

The error is dependent on the /Zi option and the size, order, and names of the
array elements. Therefore, there are two possible resolutions:

- Do not use the /Zi option.

-or-

- Rearrange the order of the elements in the structure: putting the largest
  elements last often seems to prevent the F1001 error.

STATUS
======

Microsoft has confirmed this to be a bug in the FORTRAN PowerStation for MS-
DOS, versions 1.0 and 1.0a, and the FORTRAN PowerStation 32 for Windows NT,
version 1.0. We are researching this problem and will post new information here
in the Microsoft Knowledge Base as it becomes available.

MORE INFORMATION
================

To demonstrate the problem, compile the following sample code. To suppress the
internal compiler error, do any one of the following:

- Do not use /Zi.

-or-

- Change the name of the variable GV to just G.

-or-

- Reduce the size of the arrays.

-or-

- Move the line "real*8 gv(1)" before "real*8 a(8,513)".

Sample Code
-----------

  c compile options needed: /Zi

     structure /struct/ 
        real*8 a(8,513)
        real*8 gv(1)
     end structure
     record /struct/ s
     end

Additional query words: 1.00 1.00a

======================================================================
Keywords          :  
Technology        : kbAudDeveloper kbFortranSearch kbZNotKeyword2 kbZNotKeyword3 kbFORTRANPower32100NT kbFORTRANPower100DOS kbFORTRANPower100aDOS
Version           : :1.0,1.0a

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>