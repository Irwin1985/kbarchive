<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q140372: Direct Disk Access Disabled to Protect Long File Names | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q140372: Direct Disk Access Disabled to Protect Long File Names" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/140/Q140372/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/140/Q140372/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q140372: Direct Disk Access Disabled to Protect Long File Names","url":"http://jeffpar.github.io/kbarchive/kb/140/Q140372/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q140372-direct-disk-access-disabled-to-protect-long-file-names">Q140372: Direct Disk Access Disabled to Protect Long File Names</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q140372
Product(s): Windows for Workgroups and Windows NT Networking Issues
Version(s): WINDOWS:95; winnt:3.51
Operating System(s): 
Keyword(s): win95
Last Modified: 08-AUG-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation version 3.51 
- Microsoft Windows NT Server version 3.51 
- Microsoft Windows 95 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you install Windows NT 3.51 by running Winnt from a Windows 95 MS-DOS
prompt, the following error may occur as Setup is copying files:

  Windows has disabled direct disk access to protect your long file names. To
  overwrite this protection see the LOCK /? command for more information.

  The system has been halted. Press CTRL+ALT+DEL to restart your computer.


CAUSE
=====

Direct disk writes using INT 26h or INT 13h fail under Windows 95. This is
necessary in a multi-tasking environment to prevent disk corruption from
multiple utilities running simultaneously or prevent loss of long file names by
applications that are not long file name aware.

The LOCK and UNLOCK commands can be used to work around this protection for DOS
utilities (for example, Winnt) if necessary.

Use the following syntax for running LOCK:

  lock &lt;drive_letter&gt;:

Use the following syntax for running UNLOCK.EXE:

  unlock &lt;drive_letter&gt;:

RESOLUTION
==========

To lock a drive to enable direct disk access for Windows NT Setup, do either of
the following:

- Boot with the Windows 95 Emergency Startup Disk and at the MS-DOS prompt
  type:

  lock &lt;drive_letter_to_lock&gt;:

  For example:

  lock c:

-or-

- From within Windows 95, select Shutdown from the Start button and choose to
  Restart the Computer in MS-DOS mode. At the DOS Prompt type:

  lock &lt;drive_letter_to_lock&gt;:

  For example:

  lock c:

MORE INFORMATION
================

The error message above is a Windows 95 message and only appears if you start
Windows NT Setup by typing Winnt. If you install from the Windows NT compact
disc using boot floppies, this error message does not occur because Windows 95
must be running at the time to cause this error.

Additional query words: prodnt

======================================================================
Keywords          : win95 
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNT351search kbWinNTW351search kbWinNTW351 kbWinNTSsearch kbWinNTS351 kbWinNTS351search kbWin95search kbZNotKeyword3
Version           : WINDOWS:95; winnt:3.51

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>