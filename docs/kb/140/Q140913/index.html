<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q140913: Communicating over TCP/IP May Fail Due to 802.3 Frame Type | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q140913: Communicating over TCP/IP May Fail Due to 802.3 Frame Type" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/140/Q140913/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/140/Q140913/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q140913: Communicating over TCP/IP May Fail Due to 802.3 Frame Type","url":"http://jeffpar.github.io/kbarchive/kb/140/Q140913/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q140913-communicating-over-tcpip-may-fail-due-to-8023-frame-type">Q140913: Communicating over TCP/IP May Fail Due to 802.3 Frame Type</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q140913
Product(s): Windows for Workgroups and Windows NT Networking Issues
Version(s): 3.5,3.51,4.0
Operating System(s): 
Keyword(s): kbnetwork
Last Modified: 05-FEB-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation versions 3.5, 3.51, 4.0 
- Microsoft Windows NT Server versions 3.5, 3.51, 4.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

A Windows NT TCP/IP node is not be able to communicate to a non Microsoft based
TCP/IP node.

CAUSE
=====

The non Microsoft TCP/IP node is configured to use 802.3 SNAP encoding. Some
devices can be configured to use 802.3 SNAP encoding. By default, the Microsoft
TCP/IP stack transmits packets in DIX Ethernet format.

RESOLUTION
==========

If the node device is using 802.3 SNAP encoding, modify the Windows NT registry
and change the ArpUseEtherSNAP setting to 1 on the Windows NT system to match
the 802.3 SNAP encoding.

Registry path:

This parameter is under the subtree HKEY_LOCAL_MACHINE under the following
subkey:

  \SYSTEM\CurrentControlSet\Services\Tcpip\Parameters

    Value (Parameter) Name: ArpUseEtherSNAP
    Data Type:  REG_DWORD - Boolean
    Data Range: 0 or 1 (False or True)
    Default:    0 (False)

Description: Setting this parameter to 1 will force TCP/IP to transmit Ethernet
packets using 802.3 SNAP encoding. By default, the stack transmits packets in
DIX Ethernet format. Windows NT always receives both formats.

MORE INFORMATION
================

In Windows NT 3.1, when TCP/IP is used on an Ethernet network, it will use only
the Ethernet II frame format. It will recognize a SNAP formatted ARP request,
but will respond with an Ethernet II formatted ARP reply in the hopes that the
remote station TCP/IP stack will recognize the frame type and switch to the
Ethernet II frame format.

In Windows NT 3.5, 3.51, and 4.0, there is a registry parameter (ArpUseEtherSNAP)
that instructs TCP/IP to use SNAP on an Ethernet (802.3) network. With this
parameter set, TCP/IP uses SNAP to encapsulate IP, ICMP, and ARP frames in 802.3
frames. If, however, a SNAP-encapsulated ARP request is responded to with an
Ethernet II format ARP reply, or if a Ethernet II format ARP request is
received, TCP/IP will automatically switch to using Ethernet II frames on that
link.

Additional query words:

======================================================================
Keywords          : kbnetwork 
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNTW400 kbWinNTW400search kbWinNT351search kbWinNT350search kbWinNT400search kbWinNTW350 kbWinNTW350search kbWinNTW351search kbWinNTW351 kbWinNTSsearch kbWinNTS400search kbWinNTS400 kbWinNTS351 kbWinNTS350 kbWinNTS351search kbWinNTS350search
Version           : :3.5,3.51,4.0
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>