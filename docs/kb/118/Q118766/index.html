<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q118766: Users Who Belong to More Than 95 Groups Cannot Log On | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q118766: Users Who Belong to More Than 95 Groups Cannot Log On" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/118/Q118766/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/118/Q118766/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q118766: Users Who Belong to More Than 95 Groups Cannot Log On","url":"http://jeffpar.github.io/kbarchive/kb/118/Q118766/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q118766-users-who-belong-to-more-than-95-groups-cannot-log-on">Q118766: Users Who Belong to More Than 95 Groups Cannot Log On</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q118766
Product(s): Microsoft Windows NT
Version(s): 3.1,3.5
Operating System(s): 
Keyword(s): kbnetwork
Last Modified: 06-FEB-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Server versions 3.1, 3.5 
- Microsoft Windows NT Workstation versions 3.1, 3.5 
- Microsoft Windows NT Advanced Server, version 3.1 
-------------------------------------------------------------------------------

SYMPTOMS
========

Any user in a Windows NT domain who is a member of more than 95 global or local
groups will experience problems during or after logging on.

If such a user attempts to log on from a Windows NT, Windows NT Advanced Server,
or Windows for Workgroups machine, the logon attempt will fail.

If such a user attempts to log from other types of clients, unusual and
misleading errors will be reported while logging on, but the logon attempt will
succeed. However, after logging on, misleading errors will be reported when
trying to access network resources on Windows NT machines in the domain.

MORE INFORMATION
================

When such a user attempts to log on from a Windows NT machine, the logon will
fail, and the following dialog box will be displayed :

                  Logon Message
    The system cannot log you on (C000015A). Please
    try again or consult your system administrator.
                      [ OK ]

When such a user attempts to log on from Windows for Workgroups 3.11, the logon
will fail, and the following dialog box will be displayed :

              Windows for Workgroups
    The password you specified is incorrect or your
    account is inactive. See your network administrator
    for the password or to activate your account.
                     [ OK ]

When such a user attempts to log on from OS/2 or MS-DOS LAN Manager 2.2b clients
the log on may succeed, but errors may be reported both during logon and later,
when attempts are made to access network resources on Windows NT machines. These
errors may include the following :

  General Failure Writing Device LPT&lt;x&gt; General Failure Reading Drive
  &lt;x&gt;: Cannot reconnect x: to \\&lt;server&gt;\&lt;share&gt; (error 31)
  SYS0031 : A device attached to the system is not functioning.

CAUSE
=====

Currently, a Windows NT access token can contain at most 100 Security
Identifiers (SIDs). This restriction was imposed to place an upper limit on
memory requirements and search times associated with access tokens.

Windows NT Security requires an access token to be created for every user who
logs on to a Windows NT machine (either locally, by entering a username and
password, or remotely, by connecting to a shared resource).

Adding a user to 95 or more local or global groups results in more than 100 SIDs
being associated with that user, once hidden built-in groups are taken into
consideration.

Any logon attempt by such a user fails, because the creation of the user's access
token fails with error C000015A - the number of SIDs associated with the user
exceeds the limit for an access token.


WORKAROUND
==========

To work around this restriction, remove affected users from a number of global
or local groups, until they are members of fewer than 95 groups when viewed in
User Manager. They will then be able to log on as usual.

STATUS
======

Microsoft has confirmed this to be a problem in Windows NT and Windows NT
Advanced Server version 3.1 and Windows NT Workstation and Windows NT Server
version 3.5. We are researching this problem and will post new information here
in the Microsoft Knowledge Base as it becomes available.


REFERENCES
==========

"Inside Windows NT" by Helen Custer, Section 3.3.1, "Access Tokens"

Additional query words: wfw wfwg prodnt winlogon

======================================================================
Keywords          : kbnetwork 
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNT350search kbWinNTW350 kbWinNTW350search kbWinNTW310 kbWinNTSsearch kbWinNTS350 kbWinNTS310 kbWinNTAdvSerSearch kbWinNTAdvServ310 kbWinNTS350search kbWinNTS310search kbWinNT310Search kbWinNTW310Search
Version           : :3.1,3.5

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>