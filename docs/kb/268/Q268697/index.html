<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q268697: XADM: MTA Uses Maximum CPU Processes After Upgrade to Exchange S | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q268697: XADM: MTA Uses Maximum CPU Processes After Upgrade to Exchange S" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/268/Q268697/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/268/Q268697/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q268697: XADM: MTA Uses Maximum CPU Processes After Upgrade to Exchange S","url":"http://jeffpar.github.io/kbarchive/kb/268/Q268697/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q268697-xadm-mta-uses-maximum-cpu-processes-after-upgrade-to-exchange-s">Q268697: XADM: MTA Uses Maximum CPU Processes After Upgrade to Exchange S</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q268697
Product(s): Microsoft Exchange
Version(s): 5.5
Operating System(s): 
Keyword(s): 
Last Modified: 26-MAY-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Exchange Server, version 5.5 
-------------------------------------------------------------------------------

SYMPTOMS
========

After you upgrade from Microsoft Exchange Server 4.0 to Exchange Server 5.5, and
you then start the information store and the message transfer agent (MTA), the
computer's CPU usage may reach maximum capacity. The Windows NT Task Manager
shows the CPU processes for the MTA (Emsmta.exe) at 90 to 100 percent. The
Threads counter in Performance Monitor (all 48 EMSMTA instances) may show one
thread at 100 percent, two threads at 50 percent each, or three threads at 35
percent each.

Stopping and then restarting the MTA does not correct the behavior, nor does
deleting and then recreating the Priv.edb and Pub.edb files.

CAUSE
=====

This behavior can occur if you do not upgrade existing backup utility software,
such as Seagate Backup Exec or Cheyenne Arcserve, to the latest version when you
upgrade Exchange Server.

RESOLUTION
==========

To resolve this issue, perform the following disaster recovery procedures:

1. Turn off the Exchange Server computer.

2. Create a new Windows NT 4.0 Server computer with the same computer name and
  the same configuration as the Exchange Server computer that is offline, and
  then add that new server to the same domain.

3. Install Exchange Server 5.5, using the same Organization and Site name as the
  original Exchange Server, and then shut down the computer.

4. Restart the computer that is running the original Exchange Server, and use
  the ExchangeAdmin account to log on.

5. Stop the Exchange Server services.

6. Copy the Dir.edb, Priv.edb, and Pub.edb files (the files in the Mdbdata and
  Dsdata directories) to a network share, and then turn off the Exchange Server
  computer.

7. Restart the new computer that is running Exchange Server, log on as
  ExchangeAdmin, and then stop all Exchange Server services.

8. Rename the Dir.edb file in the Dsdata folder, and delete the *.log files.

9. Copy the directory backup file Dir.edb from the network share to the Dsdata
  folder.

10. Start the Exchange Server services System Attendant and Directory Service.

11. Rename the Priv.edb and Pub.edb files in the Mdbdata folder.

12. Copy the Pub.edb and Priv.edb files from the network share to the Mdbdata
  folder.

13. At a command prompt, run the following command:

  "isinteg -patch" (without the quotation marks)

14. Install the latest version of your backup utility software.

MORE INFORMATION
================

For additional information, please refer to the Microsoft Exchange Disaster
Recovery white paper at:

  http://www.microsoft.com/exchange/techinfo/administration/55/BackupRestore.asp

Additional query words:

======================================================================
Keywords          :  
Component         : MTA
Technology        : kbExchangeSearch kbExchange550 kbZNotKeyword2
Version           : :5.5
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>