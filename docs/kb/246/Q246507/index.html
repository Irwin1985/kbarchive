<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q246507: Windows NT Does Not Start, Error Message About Ntoskrnl.exe | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q246507: Windows NT Does Not Start, Error Message About Ntoskrnl.exe" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/246/Q246507/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/246/Q246507/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q246507: Windows NT Does Not Start, Error Message About Ntoskrnl.exe","url":"http://jeffpar.github.io/kbarchive/kb/246/Q246507/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q246507-windows-nt-does-not-start-error-message-about-ntoskrnlexe">Q246507: Windows NT Does Not Start, Error Message About Ntoskrnl.exe</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q246507
Product(s): Microsoft Windows NT
Version(s): 4.0
Operating System(s): 
Keyword(s): 
Last Modified: 08-JAN-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation version 4.0 
- Microsoft Windows NT Server version 4.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you try to restart a computer running Microsoft Windows NT Workstation 4.0
or Microsoft Windows NT Server 4.0 after an abnormal shutdown (for example, a
crash), the computer may not start and you may receive the following error
message:

  Windows NT could not start because the following file is missing or corrupt:

  &lt;winnt root&gt;\system32\ntoskrnl.exe

CAUSE
=====

This behavior can occur when the Ntoskrnl.exe file is missing or corrupted, or
when the Advanced RISC Computer (ARC) path in Boot.ini points to the wrong boot
partition as the location of the Windows NT 4.0 system files.

NOTE: This can also occur if the system partition is larger than 7.8 gigabytes
and system files have be placed outside of the 7.8 gb limit (possibly as a
result of applying a service pack or defragmenting the drive). Although Windows
NT 4.0 can in theory support partitions of up to 16 exabytes in size using the
NTFS file system, the maximum size of the system partition is limited to 7.8
gigabytes. Windows 2000 does not have this limitation unless the machine's BIOS
does not support INT13 extensions.

For more information, please see the following article:

  Q224526 Windows NT 4.0 Supports Maximum of 7.8-GB System Partition

RESOLUTION
==========

To resolve this behavior, replace the Ntoskrnl.exe file. Follow one of these
sets of steps, depending on whether you do or do not have an Emergency Repair
Disk (ERD) available.

If you do have an ERD, use the emergency repair process to replace the
Ntoskrnl.exe file:

1. Start the computer with Windows NT 4.0 Setup Disk 1 in the disk drive.

2. At the prompt, insert Windows NT 4.0 Setup Disk 2 into the disk drive.

3. When the Windows NT Setup screen appears, press R to begin the repair
  process.

4. Use the arrow keys to select "Verify Windows NT system files" from the repair
  options, and then press ENTER.

5. Use the arrow keys to select the other options, and then press ENTER to clear
  those selections.

6. Select Continue, press ENTER, and then follow the on-screen instructions to
  detect mass storage devices.

7. At the prompt, insert the ERD into the disk drive.

8. At the prompt, insert the appropriate Windows NT 4.0 CD-ROM into the CD-ROM
  drive.

9. When the repair process is complete, remove the ERD from the disk drive, and
  then press ENTER to restart the computer.

If you do not have an ERD, replace the Ntoskrnl.exe file by making a new copy of
it:

1. If Windows NT 4.0 is installed on a file allocation table (FAT) partition:

  a. Start the computer in MS-DOS.

  b. Open the Boot.ini file in a text editor, and verify that the ARC path to
     the boot partition is correct in the Boot.ini file.

  c. Copy the Ntoskrnl.exe file from the original installation disks or CD-ROM
     to the %SystemRoot%\System32\ folder.

  d. Restart the computer.

2. If Windows NT 4.0 is installed on an NTFS file system partition:

  a. Install a parallel copy of Windows NT 4.0.

  b. Verify that the ARC path to the boot partition is correct in the Boot.ini
     file.

  c. Copy the Ntoskrnl.exe file from the parallel installation to the
     %SystemRoot%\System32 folder of the original installation.

  d. Start the computer in the original installation.


NOTE: If you determine the system partition is larger than 7.8 gb, Windows NT has
been setup in an unsupported configuration, and the drive will need to be
repartitioned to a size less than 7.8 gb.

MORE INFORMATION
================

For additional information on using an ERD to repair Windows NT 4.0, please see
the following articles in the Microsoft Knowledge Base:

  Q103280 Using an Emergency Repair Disk Created by Windows NT

  Q129037 Windows NT 3.5x and 4.0 Emergency Repair Process Screens

Additional query words: improper shutdown

======================================================================
Keywords          :  
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNTW400 kbWinNTW400search kbWinNT400search kbWinNTSsearch kbWinNTS400search kbWinNTS400
Version           : :4.0
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>