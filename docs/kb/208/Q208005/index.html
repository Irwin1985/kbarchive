<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q208005: FIX: Page Table Initialization Missing in x86 OAL | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q208005: FIX: Page Table Initialization Missing in x86 OAL" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/208/Q208005/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/208/Q208005/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q208005: FIX: Page Table Initialization Missing in x86 OAL","url":"http://jeffpar.github.io/kbarchive/kb/208/Q208005/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q208005-fix-page-table-initialization-missing-in-x86-oal">Q208005: FIX: Page Table Initialization Missing in x86 OAL</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q208005
Product(s): Microsoft C Compiler
Version(s): WINDOWS:
Operating System(s): 
Keyword(s): kbETK kbVC500
Last Modified: 04-MAY-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows CE Embedded Toolkit for Visual C++ 5.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

An x86-based implementation of the Windows CE operating system does not boot
when a custom physical memory layout is used.

CAUSE
=====

The Windows CE x86 OAL code supplied in the Windows CE Embedded Toolkit for
Visual C++ 5.0 lacks an OEM customizable routine to preset entries into the page
table. This prevents the OEM from building a proper initial virtual memory
address space during system initialization.

RESOLUTION
==========

To correct this problem, the Windows CE kernel component NK.LIB has been updated
to call a new OAL function, OEMInitPageTable(). A new OAL sample file has been
added (Oeminit.asm) to implement this new OAL function. By modifying the
OEMInitPageTable() function an OEM can properly build the initial page table to
match the physical memory layout of the platform.

STATUS
======

Microsoft has confirmed this to be a bug in the Microsoft products listed at the
beginning of this article. This bug has been corrected in the Windows CE 2.1
Enhancement Pack for the Embedded Toolkit, and is also available as a patch for
Windows CE 2.0 from Microsoft Developer support.

MORE INFORMATION
================

The Windows CE x86 kernel contains an initial page table that maps memory
resources for a x86 development platform. This page table may not be appropriate
for all other x86 platform implementations.

Flash memory, additional DRAM, and ROM address space may not be a part of the
built-in page table and will cause the system to halt when the switch from
physical addressing to virtual addressing takes place.

Additional query words: wceoem

======================================================================
Keywords          : kbETK kbVC500 
Technology        : kbAudDeveloper kbWinCEETKSearch kbWinCESearch kbWinCEETKVC500
Version           : WINDOWS:
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>