<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q208856: BUG: BLOCKS32 Sample Fails to Show Cursors when Linked to MFC | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q208856: BUG: BLOCKS32 Sample Fails to Show Cursors when Linked to MFC" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/208/Q208856/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/208/Q208856/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q208856: BUG: BLOCKS32 Sample Fails to Show Cursors when Linked to MFC","url":"http://jeffpar.github.io/kbarchive/kb/208/Q208856/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q208856-bug-blocks32-sample-fails-to-show-cursors-when-linked-to-mfc">Q208856: BUG: BLOCKS32 Sample Fails to Show Cursors when Linked to MFC</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q208856
Product(s): Microsoft C Compiler
Version(s): 5.0,6.0
Operating System(s): 
Keyword(s): kbole kbCOMt kbContainer kbCursor kbMFC kbVC500bug kbVC600bug kbDSupport kbGrpDSMFCATL
Last Modified: 13-FEB-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Visual C++, 32-bit Enterprise Edition, versions 5.0, 6.0 
- Microsoft Visual C++, 32-bit Professional Edition, versions 5.0, 6.0 
- Microsoft Visual C++, 32-bit Learning Edition, version 6.0 
- Microsoft Visual C++.NET (2002) 
-------------------------------------------------------------------------------

SYMPTOMS
========

Usually when you move the mouse over a rectangle or ellipse which is inserted
into the BLOCKS32 sample, it shows different cursors depending on the position
of mouse.

However, if you compile the BLOCKS32 sample with Use MFC in a Static Library
option, the different cursors do not appear when moving the mouse over a
rectangle or ellipse.

CAUSE
=====

When an application is linked to MFC using the static library, the MFC resources
are compiled into an application's executable. The application's executable will
include the Afxres.rc file. You can check this by selecting the View menu and
Resource Includes menu. The Afxres.rc file has the resources that CRectTracker
uses in the MFC source code.

These resources are included only when _AFX_NO_TRACKER_RESOURCES is not defined.
The BLOCKS32 project has _AFX_NO_TRACKER_RESOURCES defined, so it does not place
the resources that CRectTracker needs into the application's executable image.
Therefore, none of the cursors used by CRectTracker will show up when building
the sample using MFC statically.

RESOLUTION
==========

Select the View menu and Resource Includes menu item and delete the following
line:

     #define _AFX_NO_TRACKER_RESOURCES 

STATUS
======

Microsoft has confirmed this to be a bug in the Microsoft products listed at the
beginning of this article.

MORE INFORMATION
================

Steps to Reproduce Behavior
---------------------------

1. Extract Blocks32.exe sample from Microsoft Developer's Network (MSDN)

2. From the Project menu select Settings

3. Change "Use MFC in a Shared DLL" to "Use MFC in a Static Library"

4. Build the application and run it

5. From the New menu select Rectangle.

6. Move the cursor into the rectangle and cursor disappears.

View the Afxres.rc file as a text file and you can see that CRectTracker
resources are included only when _AFX_NO_TRACKER_RESOURCES is not defined.

Additional query words: Sample Static Dynamic Resources

======================================================================
Keywords          : kbole kbCOMt kbContainer kbCursor kbMFC kbVC500bug kbVC600bug kbDSupport kbGrpDSMFCATL 
Technology        : kbVCsearch kbAudDeveloper kbVC500 kbVC600 kbVC32bitSearch kbVC500Search
Version           : :5.0,6.0
Issue type        : kbbug
Solution Type     : kbnofix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>