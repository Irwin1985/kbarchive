<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q267850: Anonymous User Has Access Even When File Permissions Are Denied | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q267850: Anonymous User Has Access Even When File Permissions Are Denied" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/267/Q267850/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/267/Q267850/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q267850: Anonymous User Has Access Even When File Permissions Are Denied","url":"http://jeffpar.github.io/kbarchive/kb/267/Q267850/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q267850-anonymous-user-has-access-even-when-file-permissions-are-denied">Q267850: Anonymous User Has Access Even When File Permissions Are Denied</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q267850
Product(s): Internet Information Server
Version(s): winnt:5.0
Operating System(s): 
Keyword(s): kbOSWin2000
Last Modified: 06-AUG-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Internet Information Services version 5.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

On an intranet, an Anonymous User account can view the restricted file, even if
you have explicitly set the file permissions for a file to deny access to the
Anonymous User account (by default, the name of this account is
IUSR_&lt;ComputerName&gt;).

NOTE: This problem also occurs when you use folder permissions instead of file
permissions to deny access.

CAUSE
=====

Web site visitors are not actually viewing the restricted file by using the
Anonymous User account. Instead, their network user name is being used to
authenticate them, and consequently, allow them access to the file because the
Integrated Windows Authentication method is also in effect.

When Anonymous Access fails, IIS then tries to authenticate the visitor by using
the other authentication methods that are in effect.

NOTE: By default, when you create a new Web site, both Anonymous Access and
Integrated Windows Authentication are enabled.

RESOLUTION
==========

Do not use file permissions to restrict access for the Anonymous User. Instead,
use the Internet Service Manager (ISM) to disable access for the Anonymous
User.

If for some reason you still need to use file permissions to restrict access for
the Anonymous User, make sure to disable other authentication methods, such as
Integrated Windows Authentication.

MORE INFORMATION
================

Steps to Reproduce Behavior
---------------------------

NOTE: These steps assume that the partition is using NTFS, which is recommended
for IIS.

1. Use the ISM to create a new Web site, and accept all the default settings.

2. Create a .htm file for the Web site.

3. Open Windows Explorer, right-click the .htm file, click Properties, and then
  click the Security tab.

4. Click Add, add the Anonymous User account for the local computer, and then
  return to the Security tab.

5. Select the Anonymous User account to deny all permissions.

6. Click OK, and then click Yes when you are warned that the Deny permissions
  take priority over Allow entries.

7. Browse to the .htm file. Note that you can view it.

Additional query words: iis 5 rights restrictions iusr akz

======================================================================
Keywords          : kbOSWin2000 
Technology        : kbiisSearch kbiis500
Version           : winnt:5.0
Issue type        : kbprb
Solution Type     : kbpending

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>