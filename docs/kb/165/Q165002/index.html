<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q165002: Corrupt Files Error After You Apply Service Pack 2 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q165002: Corrupt Files Error After You Apply Service Pack 2" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/165/Q165002/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/165/Q165002/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q165002: Corrupt Files Error After You Apply Service Pack 2","url":"http://jeffpar.github.io/kbarchive/kb/165/Q165002/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q165002-corrupt-files-error-after-you-apply-service-pack-2">Q165002: Corrupt Files Error After You Apply Service Pack 2</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q165002
Product(s): Microsoft Windows NT
Version(s): 4.0
Operating System(s): 
Keyword(s): kbfile kbsetup
Last Modified: 09-AUG-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation version 4.0 SP2 
- Microsoft Windows NT Server version 4.0 SP2 
-------------------------------------------------------------------------------

SYMPTOMS
========

After you apply Service Pack 2 for Windows NT 4.0 over the network and restart
your computer, you may receive error messages stating that some files (for
example Ntfs.sys or Advapi32.dll) are corrupt.

CAUSE
=====

This problem occurs because the Service Pack 2 binary files were packaged using
authentication for web distribution. You only experience this problem when you
expand a previous version of Service Pack 2 and then copy the files from one
computer with an NTFS partition to another computer over the network (and only
when the two systems negotiate raw write mode between them.)

The specific files affected by this problem are:

  Ntfs.sys
  Advapi32.dll
  Winhlp32.exe
  Halapic.dll

This does not occur with the CD-ROM version of Service Pack 2.

RESOLUTION
==========

The Service Pack 2 binary files were repackaged to resolve this problem. Please
download the Service Pack 2 files again.

IMPORTANT: The files did not change, they were only repackaged without
authentication.

NOTE: If your system no longer starts due to Ntoskrnl.exe or other critical
system files being corrupt, you must replace these files manually. This may
require you to install another copy of Windows NT in different folder so that
you can access the original installation, especially on an NTFS partition.

MORE INFORMATION
================

If you experience this problem with the latest version of Service Pack, perform
one of the following steps:

- Copy the Service Pack locally and run Update.exe from your local hard disk.

  -or-

- Manually update the Rdr.sys file before you apply Service Pack 2 over the
  network. To do this, rename Rdr.sys in the %systemroot%\System32\Drivers
  folder, copy the expanded version of Rdr.sys from Service Pack 2 to this
  location, restart your computer, and then run Update.exe.

Additional query words: prodnt sp2 4.00
======================================================================
Keywords          : kbfile kbsetup 
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNTW400search kbWinNT400search kbWinNTW400sp2 kbWinNTSsearch kbWinNTS400sp2 kbWinNTS400search
Version           : 4.0
Issue type        : kbbug

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>