<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q130117: Running PKZIP Hangs WFW or Windows NT MS-DOS Command Prompt | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q130117: Running PKZIP Hangs WFW or Windows NT MS-DOS Command Prompt" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/130/Q130117/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/130/Q130117/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q130117: Running PKZIP Hangs WFW or Windows NT MS-DOS Command Prompt","url":"http://jeffpar.github.io/kbarchive/kb/130/Q130117/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q130117-running-pkzip-hangs-wfw-or-windows-nt-ms-dos-command-prompt">Q130117: Running PKZIP Hangs WFW or Windows NT MS-DOS Command Prompt</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q130117
Product(s): Windows for Workgroups and Windows NT Networking Issues
Version(s): WINDOWS:; winnt:3.5
Operating System(s): 
Keyword(s): 
Last Modified: 08-AUG-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation version 3.5 
- Microsoft Windows NT Server version 3.5 
- Microsoft Windows for Workgroups 
-------------------------------------------------------------------------------


SYMPTOMS
========

When you run MS-DOS Command Prompt on a computer running Windows for Workgroups
or Windows NT, and then run PKZIP.EXE from a Windows NT read- only network drive
to compress a large file (ten megabytes or larger), your MS-DOS Command Prompt
may stop responding (hang).

CAUSE
=====

PKZIP is attempting to create a temporary file. When the MS-DOS create unique
file API is executed at a network drive with read-only privileges, the Windows
NT server service returns SMB access denied. This problem occurs under Windows
for Workgroups because the Windows NT workstation service does not handle the
SMB access denied. This problem occurs under Windows NT because the Windows NT
redirector does not correctly handle the SMB access denied. Because of these
problems, the application does not terminate, and the API call repeatedly
attempts to recreate random file names. This loop sends request to the server
infinitely.

This problem occurs only when your read-only network drive is on a computer
running Windows NT. For example, if the read-only drive is on a computer running
Windows for workgroups, the server responds in a fashion which allows the
application to return access denied to the user and the application halts. The
Windows for Workgroups server returns SMB access denied: 2,4.

RESOLUTION
==========

To work around this problem, run PKZIP from a local or network drive that
provides both read and write privileges for the temporary files. To correct this
problem under Windows for Workgroups, install the latest US Service Pack for
Windows NT on the computer running Windows NT. To correct this problem, install
the latest US Service Pack for Windows NT.

NOTE: SRV.SYS and RDR.SYS were changed to handle the SMB access denied return
codes properly.

STATUS
======

Microsoft has confirmed this to be a problem in Windows NT version 3.5. This
problem was corrected in the latest US Service Pack for Windows NT. For
information on obtaining this update, query on the following word in the
Microsoft Knowledge Base (without the spaces):

  S E R V P A C K

This problem was corrected in Windows NT version 3.51.


The third-party products discussed here are manufactured by vendors independent
of Microsoft; we make no warranty, implied or otherwise, regarding these
products' performance or reliability.

Additional query words: prodnt wfw wfwg 3.11 3.51 share 1,5 0xc0000022 error code

======================================================================
Keywords          :  
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNT350search kbWinNTW350 kbWinNTW350search kbWinNTSsearch kbWinNTS350 kbWinNTS350search kbAudDeveloper kbWFWSearch
Version           : WINDOWS:; winnt:3.5

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>