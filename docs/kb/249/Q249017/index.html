<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q249017: Print Job May Stop Responding and Event ID 2004 May Be Displayed | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q249017: Print Job May Stop Responding and Event ID 2004 May Be Displayed" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/249/Q249017/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/249/Q249017/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q249017: Print Job May Stop Responding and Event ID 2004 May Be Displayed","url":"http://jeffpar.github.io/kbarchive/kb/249/Q249017/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q249017-print-job-may-stop-responding-and-event-id-2004-may-be-displayed">Q249017: Print Job May Stop Responding and Event ID 2004 May Be Displayed</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q249017
Product(s): Microsoft Windows NT
Version(s): 4.0,4.0 SP4
Operating System(s): 
Keyword(s): kbprint
Last Modified: 11-DEC-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows Base Terminal Server 
- Microsoft Windows NT Server versions 4.0, 4.0 SP4, Terminal Server Edition 
-------------------------------------------------------------------------------

SYMPTOMS
========

Print jobs may stop responding (hang) in the print queue for an extended period
of time. In addition, Event ID 2004 may be displayed in the application log.

CAUSE
=====

Line printer remote (LPR) printing in Terminal Server Edition (Service Pack 3
and Service Pack 4) defaults to TCP ports 512-1023. Unless the target line
printer daemon (LPD) server supports using this non-RFC 1179 specified port
range, print jobs do not spool to the LPD server unless the randomly selected
port does not work within the supported LPD port range (typically, 721-731 for
RFC 1179).

RESOLUTION
==========

To resolve this problem, obtain the latest service pack for Windows NT Server
4.0, Terminal Server Edition. For additional information, please see the
following article in the Microsoft Knowledge Base:

  Q152734 How to Obtain the Latest Windows NT 4.0 Service Pack

STATUS
======

This behavior is fixed in Windows NT Server 4.0, Terminal Server Edition,
Service Pack 5.

MORE INFORMATION
================

LPR printing in Windows NT 4.0 Service Pack 2 (SP2) and earlier used TCP ports
512-1023 by default. Windows NT 4.0 Service Pack 3 (SP3) and later uses TCP
ports 721-731 for TCP/IP printing by default. This allows the TCP/IP printing
service to use the same port range specified in the "3.1 Message Formats"
section of RFC 1179.

In addition, there are two registry entries you can use to configure LPR in SP3,
to enable the use of TCP port 1024 and greater. For additional information about
setting LPR printers so they are RFC compliant, click the article number below
to view the article in the Microsoft Knowledge Base:

  Q141708 Printing to LPD Printer Is Slow or Fails with Windows NT

For additional information about updated TCP/IP printing options, click the
article number below to view the article in the Microsoft Knowledge Base:

  Q179156 Updated TCP/IP Printing Options for Windows NT 4.0 SP3 and Later


Additional query words: fail fails

======================================================================
Keywords          : kbprint 
Technology        : kbWinNTsearch kbWinNT400search kbWinNTSsearch kbWinNTS400search kbNTTermServ400 kbNTTermServ400sp4 kbNTTermServSearch kbAudDeveloper kbWBTSearch
Version           : :4.0,4.0 SP4
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>