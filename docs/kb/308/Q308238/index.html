<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q308238: SMS Rchelp.sys File Prevents Chkdsk.exe From Running | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q308238: SMS Rchelp.sys File Prevents Chkdsk.exe From Running" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/308/Q308238/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/308/Q308238/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q308238: SMS Rchelp.sys File Prevents Chkdsk.exe From Running","url":"http://jeffpar.github.io/kbarchive/kb/308/Q308238/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q308238-sms-rchelpsys-file-prevents-chkdskexe-from-running">Q308238: SMS Rchelp.sys File Prevents Chkdsk.exe From Running</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q308238
Product(s): Microsoft Systems Management Server
Version(s): 2.0,2.0 SP2,2.0 SP3
Operating System(s): 
Keyword(s): kbenv kberrmsg kbtool kbHelpDesk
Last Modified: 06-AUG-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Systems Management Server versions 2.0, 2.0 SP2, 2.0 SP3 
-------------------------------------------------------------------------------

SYMPTOMS
========

When you start your Microsoft Windows NT-based workstation that is running
Systems Management Server (SMS) 2.0 with SMS Remote Control installed, you may
receive the following error message:

  Cannot open volume for direct access

CAUSE
=====

The preceding error message may occur when a disk check (Chkdsk.exe) that is
scheduled to run during startup is unable to run. The SMS Remote Control Helper
Driver (Rchelp.sys) evaluates the currently-installed video drivers, and then
writes their contents to the &lt;systemroot&gt;\system32\Viddrv.rch file on
reboot so that the video accelerator driver can attempt to load the correct
driver. The process of writing this file places a lock that prevents Chkdsk.exe
from gaining exclusive access to the disk. Because Chkdsk.exe does not have
exclusive access to the disk, Chkdsk.exe cannot run.

RESOLUTION
==========

A supported fix is now available from Microsoft, but it is only intended to
correct the problem that is described in this article. Only apply it to systems
that are experiencing this specific problem. This fix may receive additional
testing. Therefore, if you are not severely affected by this problem, Microsoft
recommends that you wait for the next SMS 2.0 service pack that contains this
fix.

To resolve this problem immediately, contact Microsoft Product Support Services
to obtain the fix. For a complete list of Microsoft Product Support Services
phone numbers and information about support costs, visit the following Microsoft
Web site:

  http://support.microsoft.com/default.aspx?scid=fh;EN-US;CNTACTMS

NOTE: In special cases, charges that are ordinarily incurred for support calls
may be canceled if a Microsoft Support Professional determines that a specific
update will resolve your problem. The usual support costs will apply to
additional support questions and issues that do not qualify for the specific
update in question.

The English version of this fix should have the following file attributes or
later:

 Date       Time   Version         Size       File name           Platform 
 -------------------------------------------------------------------------
 06-Oct-00  23:00                         65  Compverremctrl.ini  Alpha
 06-Oct-00  23:00  4.00.1493.2234     26,480  Rchelp.sys          Alpha
 06-Oct-00  23:00  2.0.92.08       1,686,036  Remctrl.exe         Alpha

 06-Oct-00  23:00                         65  Compverremctrl.ini  Intel
 06-Oct-00  23:00  4.00.1493.2234     16,544  Rchelp.sys          Intel
 06-Oct-00  23:00  2.0.148.00      1,352,209  Remctrl.exe         Intel

The English post-SMS 2.0 Service Pack 3 (SP3) version of this fix should have the
following file attributes or later:

 Date       Time   Version         Size       File name           Platform 
 -------------------------------------------------------------------------
 01-Mar-01  23:05                         65  Compverremctrl.ini  Alpha
 01-Mar-01  23:05  4.00.1493.3225     26,480  Rchelp.sys          Alpha
 01-Mar-01  23:05  2.0.92.09       1,681,799  Remctrl.exe         Alpha

 01-Mar-01  23:05                         65  Compverremctrl.ini  Intel
 01-Mar-01  23:05  4.00.1493.3225     16,544  Rchelp.sys          Intel
 01-Mar-01  23:05  2.0.92.09       1,354,289  Remctrl.exe         Intel


STATUS
======

Microsoft has confirmed that this is a problem in the Microsoft products that
are listed at the beginning of this article. This problem was first corrected in
the Systems Management Server 2.0 Service Pack 4 Hotfix Rollup Package (HRP).

For additional information about the SMS 2.0 SP4 HRP, click the article number
below to view the article in the Microsoft Knowledge Base:

  Q323206 SMS: List of Bugs Fixed in the Systems Management Server 2.0 SP4 HRP


MORE INFORMATION
================

To install the hotfix, use one of the following methods on the SMS site server
and on each of the SMS Administrator consoles.

Method 1: How to Use the Hotfix Installer
-----------------------------------------

NOTE: You can use this method only on Intel-based computers.

1. Copy the hotfix folder structure to a share on your network. Note that
  Q308238.exe is an SMS Installer file that updates specific files on your site
  server.

2. Log on to the site server by using an account with administrative privileges.

3. Run Q308238.exe, and then follow the instructions in the wizard. You can run
  the file in quiet mode by using the /s switch.

  NOTE: The default Client Configuration Installation Manager (CCIM) polling
  interval is 23 hours. Because of this, it may take up to 23 hours for the
  hotfix files to be propagated to the client computers. To propagate the
  hotfix in a smaller amount of time, create a software distribution for the
  Setevnt.exe or Cliutils.exe resource kit tool, and then use the appropriate
  parameter or parameters to start a CCIM work cycle. For information about the
  correct syntax to use with these tools, view the resource kit documentation.

Method 2: How to Manually Install the Hotfix on the Site Server
---------------------------------------------------------------

To manually install the hotfix on the site server:

1. Stop the SMS_EXECUTIVE and the SMS_SITE_COMPONENT_MANAGER services.

2. Replace the Remctrl.exe file in the
  SMS_root\Inboxes\Clicomp.src\Remctrl\Platform folder with the version of the
  file that you obtain from the hotfix.

3. Replace the Compver.ini file in the SMS_root\Inboxes\Clicomp.src\Remctrl
  folder with the version of the file that you obtain from the hotfix. Note
  that you must rename the CompverRemctrl.ini file to Compver.ini.

4. Start the SMS_EXECUTIVE and the SMS_SITE_COMPONENT_MANAGER services.

  NOTE: The default CCIM polling interval is 23 hours. Because of this, it may
  take up to 23 hours for the hotfix files to be propagated to the client
  computers. To propagate the hotfix in a smaller amount of time, create a
  software distribution for the Setevnt.exe or Cliutils.exe resource kit tool,
  and then use the appropriate parameter or parameters to start a CCIM work
  cycle. For information about the correct syntax to use with these tools, view
  the resource kit documentation.

Additional query words:

======================================================================
Keywords          : kbenv kberrmsg kbtool kbHelpDesk 
Technology        : kbSMSSearch kbSMS200 kbSMS200SP2 kbSMS200SP3
Version           : :2.0,2.0 SP2,2.0 SP3
Hardware          : ALPHA x86
Issue type        : kbprb
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>