<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q126644: Troubleshooting SMS Workstation Package Installations | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q126644: Troubleshooting SMS Workstation Package Installations" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/126/Q126644/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/126/Q126644/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q126644: Troubleshooting SMS Workstation Package Installations","url":"http://jeffpar.github.io/kbarchive/kb/126/Q126644/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q126644-troubleshooting-sms-workstation-package-installations">Q126644: Troubleshooting SMS Workstation Package Installations</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Article</span><span class="p">:</span> <span class="n">Q126644</span>
<span class="n">Product</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> <span class="n">Microsoft</span> <span class="n">Systems</span> <span class="n">Management</span> <span class="n">Server</span>
<span class="k">Version</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> <span class="n">winnt</span><span class="p">:</span><span class="m">1.0</span><span class="p">,</span><span class="m">1.1</span><span class="p">,</span><span class="m">1.2</span>
<span class="n">Operating</span> <span class="nf">System</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> 
<span class="n">Keyword</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> <span class="n">kbMaintMan</span> <span class="n">kbPCM</span> <span class="n">smsmaintman</span> <span class="n">smspcm</span>
<span class="n">Last</span> <span class="n">Modified</span><span class="p">:</span> <span class="m">31</span><span class="p">-</span><span class="n">JUL</span><span class="p">-</span><span class="m">2001</span>

<span class="p">-------------------------------------------------------------------------------</span>
<span class="n">The</span> <span class="n">information</span> <span class="k">in</span> <span class="n">this</span> <span class="n">article</span> <span class="n">applies</span> <span class="k">to</span><span class="p">:</span>

<span class="p">-</span> <span class="n">Microsoft</span> <span class="n">Systems</span> <span class="n">Management</span> <span class="n">Server</span> <span class="n">versions</span> <span class="m">1.0</span><span class="p">,</span> <span class="m">1.1</span><span class="p">,</span> <span class="m">1.2</span> 
<span class="p">-------------------------------------------------------------------------------</span>

<span class="n">SYMPTOMS</span>
<span class="p">========</span>

<span class="n">This</span> <span class="n">article</span> <span class="n">describes</span> <span class="n">several</span> <span class="n">Systems</span> <span class="n">Management</span> <span class="n">Server</span> <span class="n">workstation</span> <span class="k">package</span>
<span class="n">problems</span><span class="p">,</span> <span class="k">and</span> <span class="n">what</span> <span class="n">you</span> <span class="n">can</span> <span class="k">do</span> <span class="k">to</span> <span class="n">resolve</span> <span class="n">them</span><span class="p">.</span>

<span class="n">MORE</span> <span class="n">INFORMATION</span>
<span class="p">================</span>

<span class="k">Package</span> <span class="n">Created</span> <span class="k">and</span> <span class="n">Distributed</span> <span class="n">but</span> <span class="n">Item</span> <span class="n">Never</span> <span class="n">Appears</span> <span class="k">in</span> <span class="n">Pending</span> <span class="n">Folder</span>
<span class="p">------------------------------------------------------------------------</span>

<span class="n">The</span> <span class="n">workstation</span> <span class="k">package</span> <span class="n">has</span> <span class="n">been</span> <span class="n">created</span> <span class="k">and</span> <span class="n">distributed</span> <span class="k">with</span> <span class="n">no</span> <span class="n">errors</span> <span class="n">but</span> <span class="n">the</span>
<span class="n">item</span> <span class="n">never</span> <span class="n">shows</span> <span class="n">up</span> <span class="k">in</span> <span class="n">the</span> <span class="n">pending</span> <span class="n">folder</span> <span class="k">of</span> <span class="n">the</span> <span class="n">destination</span> <span class="nf">system</span><span class="s1">'s Package
Command Manager (PCM).

1. Check the package workstation properties and confirm that the Supported
  Platforms list has the destination systems platform selected. Using the
  Systems Management Server Administrator program, check the PC Properties for
  the destination system and confirm that Systems Management Server has the
  correct platform type listed for the target system.

2. Get the CurrentLogonServer location and the Unique SMSID from the hidden
  C:\Sms.ini file. Using these, check the
  &lt;Logonserver&gt;\Sms_Shr\Pcmins.box directory for a file with the name
  &lt;Unique SMSID&gt;.ins. If this file does not exist, the instruction file
  for this system is missing from that logon server. The Systems Management
  Server Maintenance Manager is responsible for placing these files on the
  logon servers. Check the Sms\Logs\Maintman.log file for errors that may have
  occurred when this file was replicated from the site server to the logon
  server. Also check Appendix C of the "Microsoft Systems Management Server
  Administrator'</span><span class="n">s</span> <span class="n">Guide</span><span class="s2">" for details.

3. If the &lt;Smsid&gt;.ins file exists on the logon server, use PCMDUMP to
  display its contents. Careful examination of the Display Date and Expiration
  Date fields may indicate why the package has not been displayed on the
  destination system. For additional information about using PCMDUMP to display
  the contents of an .ins file, please see the following article in the
  Microsoft Knowledge Base:

  Q123499 PCMDUMP and Package Command Manager Instruction Files

  NOTE: Pcmdump.exe can be copied from the Support\Debug\&lt;Platform&gt;
  Directory on the Systems Management Server CD.

Mandatory Package Does Not Execute on Time or Does Not Execute at All
---------------------------------------------------------------------

1. Use PCMDUMP to check the value of the Install By Date field. Compare this
  date/time stamp with the destination system current date/time The system time
  must be on or after the Install By Date before PCM will run the package.

2. If the package is supposed to run unattended on a Windows NT system that has
  no user logged on locally, ensure that all the follow conditions are met:

   - The package must not use console I/O. This means that nothing can print to
     the screen or require keyboard or mouse input. The PCMSVC service is
     responsible for executing System Background installation tasks and has no
     access to the local console for I/O. Any console I/O in this type of
     package will fail.

   - Confirm that both Automated Command Line and System (Background) Task are
     selected in the package's workstation properties.

   - Confirm that the PCM service user account for the Windows NT client has
     sufficient rights to execute the job on the system. On a Windows NT system
     in a secure environment, it is possible to keep the PCM service from
     accessing particular directories or other Windows NT system objects,
     causing the installation to fail.


Package Fails to Execute Properly or Does Not Execute at All
------------------------------------------------------------

1. Ensure that the package source directory and the package command line have
  been configured correctly:

  a. Ensure that the command line points to a valid executable.

  b. Ensure that all directory path references are relative to the package
     source directory and are not absolute directory references. For example,
     to execute Setup.exe in the Install directory of a package, use a relative
     path in the command line (Install\Setup.exe). Do not use an absolute
     directory path reference such as Smssvr\D$\Package1\Install\Setup.exe, for
     example.

2. Manually run the package command line using PCMDUMP to determine what
  distribution servers contain the package. Connect to one of the listed server
  shares and change to the directory listed for the package. Run the package's
  command line from this directory. Look for errors that reference incorrect
  paths or missing files.

3. Confirm that the package directory contains a mirrored image of the original
  source directory specified when the package was created. Except for the top
  level directory name, both directory trees should be identical. If they are
  not, check the Despool.log file for any errors that may have occurred while
  the directory structure was being created on the distribution server.

4. If the distribution directory does not exist on the servers, check the
  Sms\Logs\Despool.log file on the Systems Management Server site server for
  errors referring to the creation and file population of this directory.

Package Instruction Files Never Arrive or Never Get Updated
-----------------------------------------------------------

The package instruction files never arrive or never get updated in the &lt;Logon
Server&gt;\Sms_Shr\Pcmins.box directory.

1. Check the Systems Management Server site server directory
  Sms\Site.srv\Maincfg.box\Pcmdom.box\&lt;Clients Domain&gt;. Confirm that an
  instruction file exists for the client and that it has been updated since the
  package was distributed. Use PCMDUMP if you are unsure of the status or
  contents of this file.

2. If this file exists and has been updated, check the Sms\Logs\Maintman.log
  file for any errors that may have been logged when Systems Management Server
  attempted to transfer this file to the logon servers. The Systems Management
  Server Maintenance Manager will replicate these files at a regular watchdog
  interval. Use the log file to confirm that this watchdog cycle has actually
  taken place and that the logon server in question was one of its targets.

3. If this file does not exist, or has not been updated with the current
  package, check the Despool.log file for any error referring to the creation
  or distribution of instruction files.

Additional query words: sms prodsms trouble shoot trouble-shoot tshoot shooting

======================================================================
Keywords          : kbMaintMan kbPCM smsmaintman smspcm 
Technology        : kbSMSSearch kbSMS100 kbSMS110 kbSMS120
Version           : winnt:1.0,1.1,1.2
Issue type        : kbprb

=============================================================================
</span></code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>