<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q155302: XCON: Event Error 3120: A Resource Limit has Been Reached | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q155302: XCON: Event Error 3120: A Resource Limit has Been Reached" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/155/Q155302/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/155/Q155302/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q155302: XCON: Event Error 3120: A Resource Limit has Been Reached","url":"http://jeffpar.github.io/kbarchive/kb/155/Q155302/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q155302-xcon-event-error-3120-a-resource-limit-has-been-reached">Q155302: XCON: Event Error 3120: A Resource Limit has Been Reached</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q155302
Product(s): Microsoft Exchange
Version(s): winnt:4.0,5.0
Operating System(s): 
Keyword(s): kbusage
Last Modified: 03-APR-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Exchange Server, versions 4.0, 5.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

The Microsoft Exchange Message Transfer Agent (MTA) terminates with an Event ID
9405 and the following sequence of events appears in the Event Log:

  Event ID 2037 An internal MTA error occurred. There is a negative connection
  count for locality 52. [BASE KERNEL 6 117] (10)

  Event ID 2197 An MTA database server error was encountered while locking a
  queue. Called from XAPI. Procedure 131. Database error code: ODXOINIU -
  Object does not exist. Queue: 00000000. [DB Server TRANSFER 28 84] (14)

  Event ID 2191 An MTA database server error was encountered while adding an
  entry to a queue. Called from XAPI. Procedure 131. Database error code:
  ODXOINIU - Object does not exist. Queue name: 00000000. Object at fault:
  060000EE. [DB Server TRANSFER 28 62] (14)

  Event ID 2198 An MTA database server error was encountered while unlocking a
  queue. Called from XAPI. Procedure 131. Database error code: ODXOINIU -
  Object does not exist. Queue: 00000000. [DB Server TRANSFER 28 127] (14)

  Event ID 3128 An MTA database server error was encountered. [XAPI TRANSFER 28
  131] (14)

  Event ID 3120 A resource limit has been reached when attempting to open an
  association. Number of sessions configured: 80. [XAPI MAIN BASE 1 91] (14)

  Event ID 9405 An unexpected error has occurred which may cause the MTA to
  terminate. Error: ExchHeapFree Failure. [BASE INCOMING RPC 193] (16)

  Event ID 9405 An unexpected error has occurred which may cause the MTA to
  terminate. Error: Exception e0020002 occurred at Address 77f3cbcd [BASE
  INCOMING RPC 193] (16)

Note that in the example above, these events appear in the order in which they
occurred; they appear in this order if the Event Viewer is configured to view
the oldest events first.

CAUSE
=====

The MTA terminated due to a resource shortage. The MTA is attempting to add
local resources for remotely-hosted connectors such as the Internet Mail
Connector (IMC) or the MS Mail Connector (MSMI).

WORKAROUND
==========

Change the following registry entry to 0x20 to avoid this resource shortage:

  HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services
                    \MSExchangeMTA\Parameters\MT gateway clients

The default setting is 0x08 and is adequate under normal conditions. However,
when an installation has several gateways and connectors configured, additional
resources may be required.

Additional query words: Crash SP2 stop ECB ASB shortage bind

======================================================================
Keywords          : kbusage 
Technology        : kbExchangeSearch kbExchange500 kbExchange400 kbZNotKeyword2
Version           : winnt:4.0,5.0

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>