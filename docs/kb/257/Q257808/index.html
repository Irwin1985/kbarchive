<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q257808: SMS: Avoiding Duplicate IDs in SMS 2.0 | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q257808: SMS: Avoiding Duplicate IDs in SMS 2.0" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/257/Q257808/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/257/Q257808/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q257808: SMS: Avoiding Duplicate IDs in SMS 2.0","url":"http://jeffpar.github.io/kbarchive/kb/257/Q257808/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q257808-sms-avoiding-duplicate-ids-in-sms-20">Q257808: SMS: Avoiding Duplicate IDs in SMS 2.0</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q257808
Product(s): Microsoft Systems Management Server
Version(s): 2.0
Operating System(s): 
Keyword(s): kbinterop kbClient kbConfig kbsms200 kbInventory
Last Modified: 11-JUN-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Systems Management Server version 2.0 
-------------------------------------------------------------------------------

IMPORTANT: This article contains information about modifying the registry. Before you 
modify the registry, make sure to back it up and make sure that you understand how to restore 
the registry if a problem occurs. For information about how to back up, restore, and edit the 
registry, click the following article number to view the article in the Microsoft Knowledge Base:

  Q256986 Description of the Microsoft Windows Registry

SUMMARY
=======

In Systems Management Server (SMS) 2.0, clients are differentiated and uniquely
identified by a Globally Unique Identifier (GUID). A GUID is a combination of
the client's media access control (MAC) address and the current time when the
GUID is assigned. This produces a number that is virtually assured of being
unique. The GUID assignment occurs at different times during the SMS client
discovery and installation process. After it is generated, this GUID is stored
in the registry and in a binary file on the client's hard disk.

Duplicate GUIDs can be caused by using disk-duplication (or "cloning") software
to install workstations. Duplicate GUIDs can cause many problems in SMS
hierarchies, possibly even disabling the entire site. If you use
disk-duplication software, you must make sure that GUIDs are not duplicated.

MORE INFORMATION
================

WARNING: If you use Registry Editor incorrectly, you may cause serious problems
that may require you to reinstall your operating system. Microsoft cannot
guarantee that you can solve problems that result from using Registry Editor
incorrectly. Use Registry Editor at your own risk.

The process of disk duplication involves creating a master-image computer,
configuring it, and then copying it to other computers. To correctly prepare the
master-image computer for duplication and avoid duplicate GUIDs:

1. Use the SMS Installation Wizard to install the SMS 2.0 client software on the
  master-image client computer. For information about using the wizard, see the
  SMS 2.0 Administrator's Guide.

2. Restart the client computer and log on as Administrator.

3. On the master-image client computer, start Registry Editor and remove the
  following SMS Unique Identifier registry value:

  HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\SMS\Client\Configuration\Client
  Properties\SMS Unique Identifier

4. Delete all copies of the Smsuid.dat file from the computer's hard disk.

5. Delete the %SystemRoot%\Smscfg.ini file.

6. Use Registry Editor to remove all registry keys under the following key:

  HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NAL\Client\AbExprtDB

7. If the master-image computer was a SMS 1.2 client computer upgraded to SMS
  2.0, then you may have the Sms1x.ini file left on the computer. Delete all
  copies of the Sms1x.ini file from the computer's hard disk.

After you have followed these steps on the master-image client computer, you can
duplicate it without creating duplicate GUIDs.

For additional information, see the SMS 2.0 Resource Guide, Chapter 12,
"Preinstalling SMS Client Software."

For additional information about removing duplicate Computer IDs, click the
article number below to view the article in the Microsoft Knowledge Base:

  Q254735 SMS: How to Clean Up Duplicate Computer IDs

Additional query words: prodsms

======================================================================
Keywords          : kbinterop kbClient kbConfig kbsms200 kbInventory 
Technology        : kbSMSSearch kbSMS200
Version           : :2.0
Issue type        : kbinfo

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>