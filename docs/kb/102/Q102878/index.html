<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q102878: Information on Browser Operation | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q102878: Information on Browser Operation" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/102/Q102878/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/102/Q102878/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q102878: Information on Browser Operation","url":"http://jeffpar.github.io/kbarchive/kb/102/Q102878/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q102878-information-on-browser-operation">Q102878: Information on Browser Operation</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q102878
Product(s): Microsoft Windows NT
Version(s): 2000,3.1,3.5,3.51,4.0
Operating System(s): 
Keyword(s): kbnetwork
Last Modified: 10-APR-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Server versions 3.1, 3.5, 3.51, 4.0 
- Microsoft Windows NT Workstation versions 3.1, 3.5, 3.51, 4.0 
- Microsoft Windows NT Advanced Server 
- Microsoft Windows 2000 Server 
- Microsoft Windows 2000 Professional 
-------------------------------------------------------------------------------

SUMMARY
=======

The Computer Browser service lets you track servers that are active on the
network with a minimum of network overhead. It consists of two components on a
Windows NT or Windows NT Advanced Server computer.

The User Mode component is the Browser, which is part of the LAN Manager Server
service. This portion is responsible for maintaining the browse list, remoting
the NetServerEnum API, and managing the computer's role as a Browser (or
non-Browser).

The Kernel Mode component is the Datagram Receiver and is in charge of receiving
and managing datagrams.

Browser Roles
-------------

A network can contain the following types of servers related to browsing:

Non-Browser Servers - Do not maintain browse lists, but announce themselves
periodically to the Master Browser.

Potential Browser - Can become a Browser server if needed.

Backup Browser - Maintains a browse list of servers and domains that it retrieves
from the Master Browser.

Master Browser - Receives server and Domain announcements, sends browse lists to
Backup Browsers, responds to clients requesting browse server lists, promotes
Potential Browsers to Backup when needed, and announces the domain to inform the
Master Browsers of other domains of the domain name and Master Browser for that
domain.

Preferred Master Browser - Same as Backup Browser, except that browser elections
are biased when the IsDomainMasterBrowser (Windows NT 3.51 or earlier) registry
value or the IsDomainMaster (Windows NT 4.0 or Windows 2000) registry value is
set to TRUE.

Domain Master Browser - The primary domain controller of a domain is given a
special bias in browser elections so that it will become the Domain Master
Browser. This allows browsing to be effective when a domain spans multiple
subnets. A directed datagram is used by Master Browsers on each subnet to
announce itself to the Domain Master Browser. This is made possible through an
entry in the LMHOSTS file on the Master Browsers for the Domain Controller. This
makes it necessary to have a Windows NT Advanced Server, NT Workstation, Windows
NT Server or Windows 2000 Pro computer to browse across wide area network (WAN)
connections.

There will be at least one Master Browser on a workgroup/domain and one Backup
Browser for every 32 systems in that workgroup/domain. This means that in a
domain/workgroup with fewer than 32 systems, there will be one Master and one
Backup Browser. One more Backup Browser will be added for every 32 systems. This
is accomplished by the Master Browser telling a Potential Browser to become a
Backup Browser.

Browser NetBIOS Names
---------------------

Several special NetBIOS names and Mailslots are used to maintain and retrieve
browse lists. Names listed here as "DOMAIN(xx)" indicate the domain name
followed by the hex value (xx) and padded with spaces to the 16th byte.

&lt;01&gt;&lt;02&gt;__MSBROWSE__&lt;02&gt;&lt;01&gt;

This name is registered by the Master Browser and is used to broadcast and
receive domain announcements on the local subnet. It is through this name that
Master Browsers for different domains learn the names of different domains and
the names of the Master Browsers on those domains.

DOMAIN(00)

This is the name to which server announcements are broadcast in Microsoft LAN
Manager so that other Microsoft LAN Manager computers can track the servers on
the network. Windows NT computers do not make these broadcasts unless the
LMAnnounce option has been enabled by configuring the Server service with the
Control Panel/Networks application. This means that LAN Manager systems will not
see these computers unless this option is enabled.

A LAN Manager server within the Windows NT domain will be seen by the Browser and
therefore other systems on the network. A LAN Manager domain that doesn't
contain any Windows NT computers will not appear on the browse lists unless it
is specified as an Other Domain through the Control Panel/Networks application
in the Computer Browser configuration.

DOMAIN(1D)

This name is registered by Master Browsers. It is used by clients to find a
Master Browser server. A client will broadcast to this name to get a list of
browser servers from the Master Browser. The Master Browser will send a list of
browser servers to the client from which the client will cache three of these
server names. The client will then randomly pick one of these servers to request
a list of servers and domains from.

DOMAIN(1B)

This name is registered by the primary domain controller in a domain only and
allows unique identification of that computer.

DOMAIN(1E)

This name is registered by all Browser servers and Potential Browser servers in a
domain or workgroup. It is used for announcement requests which are sent by
Master Browsers to fill up its browse lists, and for election request packets to
force an election. Elections are performed by sending a packet out to this name
that contains your election criteria.

The election criteria for a Browser is based on the Browser's current role in the
domain and its current state, using the following hierarchy:

  Operating System Type:        0xFF000000
  Windows for Workgroups:       0x00000000
  Windows NT:                   0x01000000
  Windows NT Advanced Server:   0x02000000
  Election Version:             0x00FFFF00
  Per version criteria:         0x000000FF
  PDC:                          0x00000080
  Preferred Master:             0x00000008
  Running Master:               0x00000004
  MaintainServerList = Yes:     0x00000002
  Running Backup Browser:       0x00000001

The Browser will OR all of the appropriate election criteria and use this to
determine the system's election criteria.

The criteria for determining if a Browser has won an election is the following:

- If your election version is greater than the sender's election version, you
  win.

- Else if your election criteria is greater than the sender's criteria, you
  win.

- Else if you have been up longer than the sender, you win.

- If the above comparisons fail to determine a Master Browser, the computer
  with the lexically lowest name will win the election.

If a Browser receives an election request, it compares the criteria to its own
and if it wins it will send out up to four election packets. If after this time
it does not receive an election packet with a better criteria, it will become
the Master Browser. Elections can be caused by any computer that cannot locate a
Master Browser, or by a Potential Browser during initialization. An election is
also instigated by a Master Browser when it shuts down gracefully.

Mail Slots
----------

Server and Domain Names in the browse list are aged and are removed from the
browse list if they have not been heard from in three Announce periods.

The Browser uses Mailslot Transactions to pass these messages between systems.
Two Mailslots are used.

For messages intended for all systems including LAN Manager and Windows for
Workgroups, MAILSLOT\LANMAN is used.

MAILSLOT\BROWSE is used for messages intended for Windows NT and Windows NT
Advanced Server systems.


Additional query words: wfw wfwg prodnt browsemaster

======================================================================
Keywords          : kbnetwork 
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNTW400 kbWinNTW400search kbWinNT351search kbWinNT350search kbWinNT400search kbWinNTW350 kbWinNTW350search kbWinNTW351search kbWinNTW351 kbwin2000Serv kbWinNTW310 kbWinNTSsearch kbWinNTS400search kbWinNTS400 kbWinNTS351 kbWinNTS350 kbWinNTS310 kbWinNTAdvSerSearch kbwin2000ServSearch kbwin2000Search kbwin2000ProSearch kbwin2000Pro kbWinNTS351search kbWinNTS350search kbWinNTS310search kbWinNT310Search kbWinNTW310Search
Version           : :2000,3.1,3.5,3.51,4.0

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>