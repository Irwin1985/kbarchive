<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q154761: DSMN How to Recover from a Loss of the Account Synchronization | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q154761: DSMN How to Recover from a Loss of the Account Synchronization" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/154/Q154761/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/154/Q154761/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q154761: DSMN How to Recover from a Loss of the Account Synchronization","url":"http://jeffpar.github.io/kbarchive/kb/154/Q154761/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q154761-dsmn-how-to-recover-from-a-loss-of-the-account-synchronization">Q154761: DSMN How to Recover from a Loss of the Account Synchronization</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q154761
Product(s): Microsoft Windows NT
Version(s): WinNT:3.51,4.0
Operating System(s): 
Keyword(s): kbinterop kbnetwork
Last Modified: 09-AUG-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Server versions 3.51, 4.0 
-------------------------------------------------------------------------------

SUMMARY
=======

This article contains instructions for recovering from the failure of the
primary domain controller (PDC) and for recovering from a loss of the account
synchronization database when no backup of the database exists.

MORE INFORMATION
================

To recover from PDC server failure when there is a backup database:

1. Promote a backup domain controller (BDC) in the domain to PDC.

2. If you have not already done so, install Directory Service Manager for
  NetWare (DSMN) on the newly-promoted server.

3. Use the NET STOP MSSYNC command to stop the DSMN service on the new PDC.

4. On the new PDC, create a backup subdirectory of the
  %SystemRoot%\System32\Syncagnt directory.

5. Copy the following files from an account synchronization backup location to
  the backup directory:

  Mssync.mdb
  System.mdb
  Jetn.log
  *.pat

6. Use the Control Panel Services tool to start the DSMN service.

7. In Synchronization Manager, click Synchronize All Servers from the NetWare
  Server menu.

The synchronization may take a significant amount of time, depending on the
number of NetWare servers being synchronized, and the number of accounts being
propagated.

To recover from loss of the account synchronization database with no backup
Database, perform the following steps:

If you do not have a backup copy of the account synchronization database, you
must reconstruct your NetWare account information once you have a new PDC.

1. On each NetWare server that was participating in the domain, use NetWare
  administrative tools to delete the user account named WINNT_SYNC_AGENT.

2. To return the NetWare server bindery to the state it was in before you added
  the NetWare server to the domain, restore the bindery from a backup.

3. For each NetWare server, use Synchronization Manager to again add the server
  to the domain, specifying which accounts to propagate from the NetWare server
  to the domain and which groups to propagate back from the domain to the
  server. You will have to set a new password for each propagated user.
======================================================================
Keywords          : kbinterop kbnetwork 
Technology        : kbWinNTsearch kbWinNT351search kbWinNT400search kbWinNTSsearch kbWinNTS400search kbWinNTS400 kbWinNTS351 kbWinNTS351search
Version           : WinNT:3.51,4.0

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>