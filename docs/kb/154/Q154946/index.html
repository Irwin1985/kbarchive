<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q154946: Bugcheck 93 in the RDR | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q154946: Bugcheck 93 in the RDR" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/154/Q154946/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/154/Q154946/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q154946: Bugcheck 93 in the RDR","url":"http://jeffpar.github.io/kbarchive/kb/154/Q154946/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q154946-bugcheck-93-in-the-rdr">Q154946: Bugcheck 93 in the RDR</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q154946
Product(s): Microsoft Windows NT
Version(s): 3.51
Operating System(s): 
Keyword(s): 
Last Modified: 13-FEB-2002

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation version 3.51 
- Microsoft Windows NT Server version 3.51 
-------------------------------------------------------------------------------


SYMPTOMS
========

Your computer running Windows NT 3.51 may experience a Trap 0x93 in NTOSKRNL
caused by the redirector with the following stack trace:

0: kd&gt; kv
ChildEBP RetAddr  Args to Child
fe4a36f4 80115c85 00000004 8046e768 00000118
ntkrnlmp!RtlpBreakWithStatusInstruction (FPO: [1,0,0])
fe4a386c 80134f2f 00000093 00000118 00000001
ntkrnlmp!KeBugCheckEx+0x1e7(FPO: [Non-Fpo]
fe4a3898 8013e6de 00000118 00000340 82f5bee0 ntkrnlmp!NtClose+0x1d5 (FPO:
[EBP 0xfe4a38a4] [1,1,4])
fe4a3898 8011a53b 00000118 00000340 82f5bee0 ntkrnlmp!KiSystemService+0xbe
(FPO: [0,0] TrapFrame @ fe4a38a4)
fe4a3914 fe35d1aa 00000118 8279d748 8046ac64 ntkrnlmp!ZwClose+0xb (FPO:
[1,0,0])
fe4a3928 fe35d331 80455448 8046abc8 00000000
rdr!RdrDereferenceTransport+0x8a (FPO: [1,0,3])
fe4a3940 fe349307 8046abc8 fe4a3974 8046abc8
rdr!RdrDereferenceTransportConnectionNoRelease+0x51 (FPO: [EBP 0x8046abc8]
[1,0,4])
fe4a3958 fe35ab84 804183e8 8046abc8 8046abc8 rdr!RdrTdiDisconnect+0x85
(FPO: [EBP 0xfe4a3974] [2,0,4])
fe4a3974 fe32d3ee 804183e8 e1707748 8046abc8
rdr!CleanupTransportConnection+0x64(FPO: [Non-Fpo]
fe4a39c8 fe33d90c 804183e8 e1707748 e142edc8
rdr!RdrReconnectConnection+0x1d0(FPO: [Non-Fpo]
fe4a3a44 fe33d80a 00000001 00000000 8045ab00
rdr!RdrFscDeviceIoControlFile+0xde(FPO: [Non-Fpo]
fe4a3a60 80111f0b 8045ab00 804183e8 8056b388
rdr!RdrFsdDeviceIoControlFile+0x36(FPO: [Non-Fpo]
fe4a3a74 fe3197cf 8056b358 803da1c8 803da238 ntkrnlmp!IofCallDriver+0x37
(FPO: [0,0,2])
fe4a3adc fe3193d9 803da1c8 8056b358 fe4a3bac
mup!CreateRedirectedFile+0x2f5(FPO: [Non-Fpo]
fe4a3b2c 80111f0b 804557e0 803da1c8 803da1d8 mup!MupCreate+0xd1(FPO: [Non-
Fpo]
fe4a3b40 80171e31 801716a6 804557c8 00000000 ntkrnlmp!IofCallDriver+0x37
(FPO: [0,0,2])
fe4a3b54 fe3d1ee4 804d6648 804cb8e8 fe3d3c45
ntkrnlmp!IopParseDevice+0x78b(FPO: [Non-Fpo]
fe4a3b8c fe5289b8 00000018 00000000 00000000 tcpip!IPRcvComplete+0x15 (FPO:
[0,0,2])
fe4a3bc8 8001264d 00000008 fe4a3e40 fe4a3e55 NDIS!ndisMDpc+0x7c (FPO: [EBP
0x00000000] [4,0,4])
fe4a3bf0 80012b2b fe4a3e20 803ba7b8 fe4a3e2c
halsp!HalpEndSoftwareInterrupt+0x9 (FPO: [1,0,0])

0: kd&gt; !trap fe4a38a4
eax=804183e8 ebx=fe32ac28 ecx=00000000 edx=fe4a3f04 esi=80455454
edi=8045544c
eip=8011a53b esp=fe4a3918 ebp=80455448 iopl=0         nv up ei ng nz na pe
nc
vip=0    vif=0
cs=0008  ss=0010  ds=75ef  es=0000  fs=0030  gs=aa44
efl=00000282
ErrCode = 00000000
8011a53b c20400           ret     0x4

0: kd&gt; u 8011a53b
ntkrnlmp!ZwClose+0xb:
8011a53b c20400           ret     0x4
8011a53e 8bc0             mov     eax,eax
ntkrnlmp!ZwCloseObjectAuditAlarm:
8011a540 b810000000       mov     eax,0x10
8011a545 8d542404         lea     edx,[esp+0x4]
8011a549 cd2e             int     2e
8011a54b c20c00           ret     0xc
8011a54e 8bc0             mov     eax,eax
ntkrnlmp!ZwCompleteConnectPort:
8011a550 b811000000       mov     eax,0x11

CAUSE
=====

It was necessary to attach to FSP before closing the connection handle.

STATUS
======

Microsoft has confirmed this to be a problem in Windows NT version 3.51. This
problem was corrected in the latest Windows NT 3.51 U.S. Service Pack. For
information on obtaining the Service Pack, query on the following word in the
Microsoft Knowledge Base (without the spaces):

  S E R V P A C K


Additional query words: prodnt 3.51

======================================================================
Keywords          :  
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNT351search kbWinNTW351search kbWinNTW351 kbWinNTSsearch kbWinNTS351 kbWinNTS351search
Version           : :3.51

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>