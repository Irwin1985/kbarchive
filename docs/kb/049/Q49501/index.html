<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q49501: Ftime: C Function – Documentation Supplement | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q49501: Ftime: C Function – Documentation Supplement" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/049/Q49501/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/049/Q49501/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q49501: Ftime: C Function – Documentation Supplement","url":"http://jeffpar.github.io/kbarchive/kb/049/Q49501/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q49501-ftime-c-function--documentation-supplement">Q49501: Ftime: C Function – Documentation Supplement</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q49501
Product(s): See article
Version(s): 5.10
Operating System(s): MS-DOS
Keyword(s): ENDUSER | S_QuickC S_QuickASM docsup | mspl13_c
Last Modified: 17-JUL-1990

The ftime function takes a pointer to a timeb structure as its only
parameter and has no return value. Ftime calculates the current time
and returns it by modifying the timeb structure. The structure
contains the following elements in the given order:

Name      Type           Description
----      ----           -----------

time      time_t(long)   The time in seconds since 00:00:00 Greenwich
                         mean time, January 1, 1970. This time is
                         calculated under MS-DOS by calling Int 21,
                         function 2Ah (Get Date), converting the
                         results to seconds, and adding the current
                         time, which is also converted to seconds.

millitm   USHORT         Fraction of a second in milliseconds. This
                         value is actually not milliseconds on most
                         systems. On most IBM PCs and compatibles, the
                         clock speed is not fast enough to compute
                         milliseconds, or indeed, hundredths of
                         seconds. The ftime function calls interrupt
                         21, function 2Ch (under DOS), which returns,
                         among other information, the seconds in
                         hundredths. The hundredths information is an
                         estimation based on the clock speed, which is
                         approximately 18.2 ticks per second on most
                         PCs. The hundredths value is then multiplied
                         by ten to get the millisecond value.

timezone  short          The difference in minutes, moving westward,
                         between Greenwich mean time and local time.
                         This is equal to the global variable
                         timezone, from a call to the tzset function.

dstflag   short          This flag is nonzero if daylight savings
                         time (DST) is currently in effect for the local
                         time zone. This is done by a call to the
                         internal function _isindst. This function
                         takes a timeb structure as a parameter and
                         returns an integer flag. This is the rule for
                         years before 1987; a time is in DST if it is
                         on or after 02:00:00 on the last Sunday in
                         April and before 01:00:00 on the last Sunday
                         in October. This is the rule for years
                         starting with 1987; a time is in DST if it
                         is on or after 02:00:00 on the first Sunday
                         in April and before 01:00:00 on the last
                         Sunday in October. (See tzset for more
                         information on DST.)

Other sources of information include the Version 5.10 "Microsoft C for the
MS-DOS Operating System: Run-Time Library Reference," Pages 308-9 and
the ftime function in the "C Run-Time Library Source Routines".
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>