<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=d2057ae472d963fbdcbf65805f43123bccb709dc">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Q83331: DR DOS Policy and Workaround: Fault in MS-DOS Extender Error | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Q83331: DR DOS Policy and Workaround: Fault in MS-DOS Extender Error" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/083/Q83331/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/083/Q83331/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"headline":"Q83331: DR DOS Policy and Workaround: Fault in MS-DOS Extender Error","url":"http://jeffpar.github.io/kbarchive/kb/083/Q83331/","description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="https://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q83331-dr-dos-policy-and-workaround-fault-in-ms-dos-extender-error">Q83331: DR DOS Policy and Workaround: Fault in MS-DOS Extender Error</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q83331
Product(s): Microsoft Windows 95.x Retail Product
Version(s): WINDOWS:3.1
Operating System(s): 
Keyword(s): win31
Last Modified: 01-OCT-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows 3.1 
-------------------------------------------------------------------------------

SUMMARY
=======

This article discusses the use of Microsoft Windows version 3.1 with Digital
Research DOS (DR DOS).

Microsoft can only ensure the stability of Microsoft Windows running on MS-DOS or
PC-DOS versions 3.1 or later. Digital Research has released a software update
for running Windows with DR DOS. Microsoft neither endorses nor ensures the
stability of Microsoft Windows 3.1 running on DR DOS with or without the Digital
Research software update.

Microsoft Windows version 3.1 may give the following message when it enters the
graphical user interface (GUI) mode of Windows Setup:

  Standard Mode: Fault in MS-DOS Extender

The error is caused by one of the following:

- Attempting to set up Windows 3.1 on an operating system not formally tested
  by Microsoft, such as DR DOS.

- The virtual control program interface (VCPI) server being used does not
  implement VCPI completely or correctly. (An example of a VCPI server is
  EMM386.EXE.)

Microsoft Windows 3.1 enters protected mode operation using DOSX.EXE during
Setup. An operating system or VCPI server that is incompatible will cause
DOSX.EXE to load improperly, thus causing Setup to fail and report:

  Standard Mode: Fault in MS-DOS Extender

MORE INFORMATION
================

If this occurs when you are attempting to upgrade from Windows 3.0 to Windows
3.1, you will be unable to use Windows. The following set of instructions will
allow you to return to a functional Windows 3.0 installation after a failed
installation of Windows 3.1.

NOTE: These steps do NOT work if you have successfully completed the installation
of Windows 3.1 or you have attempted to install Windows 3.1 more than once.

1. Restart the computer to clear the machine state.

2. Rename all the .INI files and .GRP files in the Windows directory to .INN and
  .GRN. For example, type the following at the MS-DOS command prompt:

  rename *.ini *.inn
  rename *.grp *.grn

3. Delete the file WINVER.EXE from the Windows directory. This will allow
  Windows 3.0 to update all of the Windows files.

4. Reinstall Windows 3.0 to the Windows directory with the configuration options
  used previously when you attempted to install Windows 3.1.

5. Do not select any of the options in the graphics mode of Windows 3.0 Setup
  (that is, Printers, Setup applications, Read documents, modify CONFIG.SYS,
  AUTOEXEC.BAT).

6. Copy all the .INN files and .GRN files to the same name with the original
  extensions (.INI and .GRP.), by typing the following at the MS-DOS command
  prompt:

  copy *.inn *.ini
  copy *.grn *.grp

7. Copy SYSINI.W31 and WININI.W31 to SYSTEM.INI and WIN.INI, respectively, by
  typing the following at the MS-DOS command prompt. The .W31 files are the
  backup. INI files Windows 3.1 created during the attempted upgrade to Windows
  3.1.

  copy sysini.w31 system.ini
  copy winini.w31 win.ini

All OLE functionality will be intact for pre-Windows 3.1 OLE applications such as
Microsoft Excel 3.0 and Microsoft Word for Windows 2.0.

You should find a file named W8D40P2T.A4G in the Windows directory. This file is
used by Windows 3.1 to start the graphics mode of setup. This file can be
deleted.

NOTE: The SETUP.INF file for Windows 3.0 may need to be temporarily adjusted to
allow Windows 3.0 to set up on a system with limited hard drive space. Copy
SETUP.EXE and SETUP.INF from Windows 3.0 Disk 1 to a separate directory on the
hard disk. Use an MS-DOS based editor to edit the [DATA] section of the
SETUP.INF for Windows 3.0, as follows:

  [DATA]
     neededspace386=6300000
     space386upgrade=2000
     neededspace286=4500000
     space286upgrade=1000

Set the values for both neededspace386 and neededspace286 to 1.

Run Setup from the directory with the adjusted SETUP.INF. After Setup is
complete, copy the Windows 3.0 SETUP.INF from Disk 1 to the Windows 3.0 SYSTEM
directory.

For additional information on making DR DOS compatible with Windows 3.1, or to
obtain the DR DOS software update, please contact Digital Research.


DR DOS is a registered trademark of Novell.


REFERENCES
==========

Windows Resource Kit 2.0, page 15

Additional query words: 3.10 3.1 DR DOS DRDOS dr-dos uninstall revert go back

======================================================================
Keywords          : win31 
Technology        : kbWin3xSearch kbZNotKeyword3 kbWin310
Version           : WINDOWS:3.1

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49658648-3', 'auto');
    ga('send', 'pageview');
</script>

</body>
</html>